/*
 * CALENDAR AND DATE PICKER STYLING - REFACTORED
 *
 * All custom CSS rules previously in this file have been removed.
 * The application uses the shadcn/ui Calendar component (src/components/ui/calendar.tsx),
 * which is built with react-day-picker and styled extensively using Tailwind CSS utility classes.
 *
 * Customizations to the calendar's appearance should be made by:
 * 1. Modifying the Tailwind classes directly within src/components/ui/calendar.tsx for base style changes.
 * 2. Passing custom Tailwind classes via the `classNames` prop to the <Calendar /> component where it is used,
 *    to target specific parts of react-day-picker for instance-specific styling.
 *
 * This approach ensures that calendar styling is encapsulated, leverages the existing design system (Tailwind, CSS variables),
 * and avoids conflicts from global CSS overrides.
 */

/*
 * BASE CALENDAR BUTTON STYLING
 * Force transparent backgrounds on all calendar buttons by default
 * These selectors target various implementations of calendar days
 */
.rdp-button,
.rdp-day,
.rdp button,
.rdp table button,
.rdp tbody button,
.rdp td button,
[role="grid"] button,
[role="gridcell"] button,
[data-radix-popper-content-wrapper]
  [role="grid"]
  button:not([aria-selected="true"]):not(:hover),
button.day,
.calendar button {
  background-color: transparent;
}

/*
 * CALENDAR TRIGGER BUTTON STYLING
 * Styles for the calendar icon button that opens the date picker
 */
button[aria-label="Pick a date"] {
  transition:
    background-color 0.2s ease,
    color 0.2s ease,
    transform 0.1s ease;
}

/* Active state micro-interaction */
button[aria-label="Pick a date"]:active {
  transform: scale(0.95);
}

/* Icon color in hover state */
button[aria-label="Pick a date"]:hover svg {
  color: hsl(var(--primary-foreground));
}

/* 
 * THEME-CONSISTENT HOVER STATES
 * Ensure same hover behavior in both light and dark modes
 */
button[aria-label="Pick a date"]:hover {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/* Active state is consistent across themes */
button[aria-label="Pick a date"]:active {
  transform: scale(0.95);
}

/*
 * OPEN STATE STYLING
 * These complex selectors target the calendar trigger button when the calendar is open
 * Multiple selectors are used to handle different calendar implementations
 */
.Popover[data-state="open"] button[aria-label="Pick a date"],
[data-radix-popper-content-wrapper] ~ * button[aria-label="Pick a date"],
[role="dialog"] ~ button[aria-label="Pick a date"],
button[aria-label="Pick a date"][data-state="open"],
[open="true"] button[aria-label="Pick a date"] {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/* Icon color when calendar is open */
.Popover[data-state="open"] button[aria-label="Pick a date"] svg,
[data-radix-popper-content-wrapper] ~ * button[aria-label="Pick a date"] svg,
[role="dialog"] ~ button[aria-label="Pick a date"] svg,
button[aria-label="Pick a date"][data-state="open"] svg,
[open="true"] button[aria-label="Pick a date"] svg {
  color: hsl(var(--primary-foreground));
}

/*
 * CALENDAR DAY BUTTONS
 * Base styling for the day buttons within the calendar
 */
.rdp-day,
.rdp-button,
[role="grid"] button,
[role="gridcell"] button {
  width: 100%;
  height: 100%;
  border-radius: 0.5rem;
  padding: 0;
}

/* Light mode specific fixes for calendar buttons */
html:not(.dark) .rdp-button {
  width: 100%;
  height: 100%;
  border-radius: 0.5rem;
  transition:
    background-color 0.15s,
    color 0.15s;
}

/*
 * CALENDAR DAY HOVER STATES
 * Styling for hovering over calendar day buttons
 */
.rdp-day:hover:not(.rdp-day_disabled),
.rdp-button:hover:not(.rdp-day_disabled),
.rdp-cell button:hover:not([disabled]),
.rdp-button:not([disabled]).rdp-day_today:hover,
[role="grid"] button:hover:not([disabled]),
[role="gridcell"] button:hover:not([disabled]) {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/*
 * UNIFIED DAY HOVER (was LIGHT MODE SPECIFIC DAY HOVER)
 * These selectors handle non-selected, non-disabled days
 */
.rdp-day:hover:not(.rdp-day_disabled):not([aria-selected="true"]),
.rdp-button:hover:not(.rdp-day_disabled):not([aria-selected="true"]),
[role="grid"] button:hover:not([disabled]):not([aria-selected="true"]),
[role="gridcell"] button:hover:not([disabled]):not([aria-selected="true"]),
.day:hover:not([disabled]):not([aria-selected="true"]),
.calendar button:hover:not([disabled]):not([aria-selected="true"]),
.rdp-cell:hover button:not([disabled]):not([aria-selected="true"]),
.rdp-table button:hover:not([disabled]):not([aria-selected="true"]),
[data-radix-popper-content-wrapper]
  [role="grid"]
  button:hover:not([disabled]):not([aria-label="Previous month"]):not(
    [aria-label="Next month"]
  ):not([aria-selected="true"]) {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border: none;
}

/* Catch-all selector for any remaining button variants - now generalized */
button[class*="rdp-button"]:hover:not([disabled]):not([aria-selected="true"]) {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}

/*
 * SELECTED DATE STYLING
 * Styling for the currently selected date in the calendar
 * Multiple selectors to handle different calendar implementations
 */
.rdp-day[aria-selected="true"],
.rdp button[aria-selected="true"],
[role="grid"] button[aria-selected="true"],
[role="gridcell"] button[aria-selected="true"],
html:not(.dark) .rdp-day_selected,
html:not(.dark) .rdp-day_selected:not(.rdp-day_disabled),
html:not(.dark) [role="grid"] button[aria-selected="true"],
html:not(.dark) [role="gridcell"] button[aria-selected="true"],
.dark .rdp-day_selected,
.dark .rdp-day_selected:not(.rdp-day_disabled),
.dark [role="grid"] button[aria-selected="true"],
.dark [role="gridcell"] button[aria-selected="true"] {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  font-weight: bold;
}

/*
 * SELECTED DATE HOVER
 * Maintain consistent styling when hovering over the selected date
 */
.rdp-day_selected:hover,
[role="grid"] button[aria-selected="true"]:hover,
[class*="selected"]:hover {
  background-color: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border: none;
  box-shadow: none;
  transform: none;
}

/*
 * TODAY'S DATE STYLING
 * Subtle highlight for the current day when it's not selected
 */
.rdp-day_today:not(.rdp-day_selected):not(.rdp-day_disabled),
[role="grid"]
  button[aria-current="date"]:not([aria-selected="true"]):not([disabled]) {
  background-color: hsla(var(--ring), 0.15);
  font-weight: bold;
}
