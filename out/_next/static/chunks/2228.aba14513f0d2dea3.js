"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2228],{80333:(e,t,a)=>{a.d(t,{d:()=>l});var r=a(95155),s=a(12115),n=a(96440),o=a(59434);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.bL,{className:(0,o.cn)("peer inline-flex h-[22px] w-[42px] shrink-0 cursor-pointer items-center rounded-sm border-0 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input dark:data-[state=unchecked]:bg-slate-700","rounded-sm",a),...s,ref:t,children:(0,r.jsx)(n.zi,{className:(0,o.cn)("pointer-events-none block h-[18px] w-[18px] rounded-xs bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-[19px] data-[state=unchecked]:translate-x-[3px]")})})});l.displayName=n.bL.displayName},82228:(e,t,a)=>{a.r(t),a.d(t,{InvoiceForm:()=>O});var r=a(95155),s=a(40646),n=a(85339),o=a(69074),l=a(54861),i=a(49103),d=a(51154),c=a(83339),u=a(17759),m=a(62177),g=a(20547),p=a(12115),h=a(59434);function f(e){let{...t}=e;return(0,r.jsx)(g.bL,{"data-slot":"popover",...t})}function v(e){let{...t}=e;return(0,r.jsx)(g.l9,{"data-slot":"popover-trigger",...t})}function x(e){let{className:t,align:a="center",sideOffset:s=4,...n}=e,[o,l]=p.useState(!1),i=p.useRef(!0);return(p.useEffect(()=>{i.current=!0;let e=setTimeout(()=>{i.current&&l(!0)},10);return()=>{i.current=!1,clearTimeout(e),l(!1),"undefined"!=typeof document&&setTimeout(()=>{document.querySelectorAll("[data-radix-popover-content]").forEach(e=>{try{e&&e.parentNode&&e.parentNode.removeChild(e)}catch{}})},0)}},[]),o)?(0,r.jsx)(g.ZL,{children:(0,r.jsx)(g.UC,{"data-slot":"popover-content",align:a,sideOffset:s,className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),style:{backgroundColor:"hsl(var(--popover))",opacity:1},...n})}):null}var y=a(59409),j=a(62713),b=a(83039),N=a(30285),S=a(42355),D=a(13052),w=a(42507);function F(e){let{className:t,classNames:a,showOutsideDays:s=!0,locale:n,...o}=e;return(0,r.jsx)(w.h,{showOutsideDays:s,className:(0,h.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,h.cn)((0,N.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",month_grid:"w-full border-collapse space-y-1",weekdays:"flex",weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,h.cn)((0,N.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:!bg-primary hover:!text-primary-foreground dark:hover:!bg-primary dark:hover:!text-primary-foreground transition-colors duration-200 active:scale-95 active:ring-1 active:ring-primary/50"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:!bg-primary hover:!text-primary-foreground focus:bg-primary focus:text-primary-foreground active:scale-95",day_today:"bg-accent text-accent-foreground hover:!bg-primary hover:!text-primary-foreground active:scale-95",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30 hover:!bg-primary/50 hover:!text-primary-foreground active:scale-95",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{Chevron:e=>{let{className:t,orientation:a,...s}=e;return"left"===a?(0,r.jsx)(S.A,{className:(0,h.cn)(t,"h-4 w-4"),...s}):(0,r.jsx)(D.A,{className:(0,h.cn)(t,"h-4 w-4"),...s})}},locale:n,weekStartsOn:n?.options?.weekStartsOn??1,...o})}F.displayName="Calendar";var I=a(62523),C=a(80333),E=a(45964),V=a.n(E),P=a(26681),z=a(4549),A=a(16781),M=a(55594),k=a(90221);let _="yyyy-MM-dd",B="dd.MM.yyyy",R={startDateString:"",endDateString:"",includeEndDate:!0,splitPeriod:"yearly",amounts:[{value:""}]},J=[_,B,"MM/dd/yyyy","dd.MM.yy","MM/dd/yy","dd-MM-yyyy"],T=e=>e?(0,z._U)(e,J):null,$=e=>M.z.object({startDateString:M.z.string().optional(),endDateString:M.z.string().optional(),includeEndDate:M.z.boolean(),splitPeriod:M.z.enum(["yearly","quarterly","monthly"]),amounts:M.z.array(M.z.object({value:M.z.string().min(1,{message:e("InvoiceForm.errorAmountValueRequired")}).refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>0,{message:e("InvoiceForm.errorAmountPositive")})})).min(1,e("InvoiceForm.errorAmountRequired"))}).refine(e=>!!T(e.startDateString||""),{message:e("InvoiceForm.errorStartDateRequired"),path:["startDateString"]}).refine(e=>!!T(e.endDateString||""),{message:e("InvoiceForm.errorEndDateRequired"),path:["endDateString"]}).refine(e=>{let t=T(e.startDateString||""),a=T(e.endDateString||"");return!t||!a||a>=t},{message:e("InvoiceForm.errorEndDateBeforeStart"),path:["endDateString"]});function O(e){let{onCalculateAction:t,initialDemoData:a,onDemoDataApplied:g}=e,{t:S,i18n:D}=(0,A.Bd)(),[w,E]=(0,p.useState)(!1),[z,M]=(0,p.useState)(!1),[J,O]=(0,p.useState)(""),[q,L]=(0,p.useState)(!1),Y=(0,p.useRef)(!1),U=D.language.startsWith("de")?j.de:b.c,Q=D.language.startsWith("de")?B:_,W=D.language.startsWith("de")?"z.B. 31.12.2023":"e.g. 2023-12-31",G="invoiceFormDataCache",[K,H]=(0,p.useState)(!1),[Z,X]=(0,p.useState)(!1),ee=$(S),et=(0,m.mN)({resolver:(0,k.u)(ee),defaultValues:R,mode:"onBlur"}),{fields:ea,append:er,remove:es}=(0,m.jz)({control:et.control,name:"amounts"}),en=(0,p.useMemo)(()=>V()(e=>{if(w&&Y.current)try{let t=e.amounts?.length>0?e.amounts:[{value:""}],a={...e,amounts:t,splitPeriod:e.splitPeriod||"yearly"};console.log("[InvoiceForm] Saving form data to localStorage"),localStorage.setItem(G,JSON.stringify(a))}catch(e){console.error("[InvoiceForm] Failed to save form data to localStorage:",e)}},800),[w,G]),eo=(0,m.FH)({control:et.control});(0,p.useEffect)(()=>{w&&Y.current&&eo&&en(et.getValues())},[eo,en,et,w,Y]),(0,p.useEffect)(()=>()=>{en.cancel(),H(!1),X(!1),console.log("[InvoiceForm] Component unmounting, cancelled pending save operations.")},[en]);let el=(0,p.useCallback)(e=>{M(!0),O(S("InvoiceForm.calculatingButton"));let a=T(e.startDateString||""),r=T(e.endDateString||""),s=e.amounts.map(e=>parseFloat(e.value)),n={startDate:a,endDate:r,includeEndDate:e.includeEndDate,splitPeriod:e.splitPeriod,amounts:s.filter(e=>!isNaN(e))};if(!a||!r){t(n,null,new c.gK(S("InvoiceForm.errorInvalidDatesMessages",{defaultValue:"Valid start and end dates are required."}),c.OQ.INVALID_DATES,{startDateString:e.startDateString,endDateString:e.endDateString})),M(!1),O(S("InvoiceForm.calculateButton",{defaultValue:"Calculate Split"}));return}if(s.some(isNaN)){t(n,null,new c.gK(S("InvoiceForm.errorAmountPositive"),c.OQ.INVALID_AMOUNT,{invalidAmounts:e.amounts.filter(e=>isNaN(parseFloat(e.value))).map(e=>e.value)})),M(!1),O(S("InvoiceForm.calculateButton",{defaultValue:"Calculate Split"}));return}let o={startDate:a,endDate:r,includeEndDate:e.includeEndDate,splitPeriod:e.splitPeriod,amounts:s},l=(0,c.e9)(o);l.success?(t(n,{totalDays:l.totalDays,originalTotalAmount:l.originalTotalAmount,adjustedTotalAmount:l.adjustedTotalAmount,resultsPerAmount:l.resultsPerAmount,aggregatedSplits:l.aggregatedSplits,calculationSteps:l.calculationSteps,splitPeriodUsed:l.splitPeriodUsed},void 0),L(!0),setTimeout(()=>L(!1),1500)):t(n,null,l.error),M(!1),O(S("InvoiceForm.calculateButton",{defaultValue:"Calculate Split"}))},[t,S]);(0,p.useEffect)(()=>{if(!w)return;let e=et.getValues(),t=!1;e.splitPeriod&&["yearly","quarterly","monthly"].includes(e.splitPeriod)||(et.setValue("splitPeriod","yearly"),t=!0),"boolean"!=typeof e.includeEndDate&&(et.setValue("includeEndDate",!0),t=!0),e.amounts&&0!==e.amounts.length||(et.setValue("amounts",[{value:""}]),t=!0),t&&console.log("[InvoiceForm] Applied default values for missing form fields")},[w,et]),(0,p.useEffect)(()=>{if(!w){console.log("[InvoiceForm] Component mounting"),E(!0),O(S("InvoiceForm.calculateButton",{defaultValue:"Calculate Split"}));return}if(Y.current)return;Y.current=!0,console.log("[InvoiceForm] Initializing form data...");let e=()=>{try{localStorage.removeItem(G)}catch{}et.reset(R)};(()=>{try{if(a){console.log("[InvoiceForm] Using demo data from prop:",a);let e={startDateString:a.startDateString||"",endDateString:a.endDateString||"",includeEndDate:!0===a.includeEndDate,splitPeriod:a.splitPeriod||"yearly",amounts:[{value:a.amount?String(a.amount):""}]};et.reset(e),localStorage.setItem(G,JSON.stringify(e)),g&&(console.log("[InvoiceForm] Notifying parent that demo data was applied"),g()),setTimeout(()=>{et.trigger().then(e=>{e?(console.log("[InvoiceForm] Form is valid, auto-submitting"),et.handleSubmit(el)()):console.warn("[InvoiceForm] Auto-submit cancelled - validation failed:",et.formState.errors)})},350);return}{let e=new URLSearchParams(window.location.search);if("true"===e.get("clean")){console.log("[InvoiceForm] 'clean=true' parameter detected, clearing cache"),localStorage.removeItem(G),et.reset(R);return}}let t=localStorage.getItem(G);if(t){console.log("[InvoiceForm] Loading data from localStorage cache");try{let e=JSON.parse(t);e.amounts&&0!==e.amounts.length||(e.amounts=[{value:""}]),e.splitPeriod&&["yearly","quarterly","monthly"].includes(e.splitPeriod)||(e.splitPeriod="yearly"),et.reset(e)}catch(t){console.error("[InvoiceForm] Error parsing cached data:",t),e()}}else console.log("[InvoiceForm] No cached data found, using defaults")}catch(t){console.error("[InvoiceForm] Error during initialization:",t),e()}})()},[w,a,g,S,et,G,el]);let ei=()=>D.language.startsWith("de")?S("InvoiceForm.supportedDateFormats",{defaultValue:"Unterst\xfctzte Formate: TT.MM.JJJJ, JJJJ-MM-TT"}):S("InvoiceForm.supportedDateFormats",{defaultValue:"Supported formats: YYYY-MM-DD, DD.MM.YYYY"}),ed=e=>{if(e){let t=(0,P.GP)(e,Q);et.setValue("startDateString",t,{shouldValidate:!0})}H(!1)},ec=e=>{if(e){let t=(0,P.GP)(e,Q);et.setValue("endDateString",t,{shouldValidate:!0})}X(!1)},eu=e=>{let t=e.target.value;et.clearErrors("startDateString"),et.setValue("startDateString",t,{shouldValidate:!1});let a=T(t);if(t&&!a)et.setError("startDateString",{type:"manual",message:ei()});else if(a){let e=T(et.getValues("endDateString")??"");e&&e<a&&et.setError("endDateString",{type:"manual",message:S("InvoiceForm.errorEndDateBeforeStart")})}et.trigger("startDateString")},em=e=>{let t=e.target.value;et.clearErrors("endDateString"),et.setValue("endDateString",t,{shouldValidate:!1});let a=T(t);if(t&&!a)et.setError("endDateString",{type:"manual",message:ei()});else if(a){let e=T(et.getValues("startDateString")??"");e&&a<e&&et.setError("endDateString",{type:"manual",message:S("InvoiceForm.errorEndDateBeforeStart")})}et.trigger("endDateString")};return w?(0,r.jsx)(m.Op,{...et,children:(0,r.jsxs)("form",{onSubmit:et.handleSubmit(el),className:(0,h.cn)("space-y-6",w&&"opacity-100 transition-opacity duration-500 ease-in-out",!w&&"opacity-0"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(u.zB,{control:et.control,name:"startDateString",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.eI,{className:"flex flex-col",children:[(0,r.jsx)(u.lR,{htmlFor:"startDateString",children:S("InvoiceForm.startDateLabel")}),(0,r.jsxs)(f,{open:K,onOpenChange:H,children:[(0,r.jsx)(u.MJ,{children:(0,r.jsxs)("div",{className:"w-full relative",children:[(0,r.jsx)(I.p,{value:t.value,onChange:e=>{t.onChange(e),eu(e)},onBlur:()=>et.trigger("startDateString"),placeholder:W,className:`w-full pr-16 ${et.formState.errors.startDateString?"border-destructive focus:border-destructive focus:ring-2 focus:ring-destructive/20":""}`,autoFocus:!0,id:"startDateString",name:"startDateString"}),t.value&&!et.formState.errors.startDateString&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-12 flex items-center z-[1]",children:(0,r.jsx)(s.A,{className:"h-4 w-4 text-success"})}),et.formState.errors.startDateString&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-12 flex items-center z-[1]",children:(0,r.jsx)(n.A,{className:"h-4 w-4 text-destructive"})}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center z-[1]",children:(0,r.jsx)(v,{asChild:!0,children:(0,r.jsx)(N.$,{type:"button",variant:"ghost",className:"h-7 w-7 p-0 rounded-full hover:bg-primary hover:text-primary-foreground transition-colors duration-200 cursor-pointer","aria-label":"Pick a date",children:(0,r.jsx)(o.A,{className:"h-4 w-4 transition-colors duration-200"})})})})]})}),(0,r.jsx)(x,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(F,{mode:"single",selected:T(et.watch("startDateString")??"")||void 0,onSelect:ed,initialFocus:!0,locale:U,defaultMonth:T(et.watch("startDateString")??"")||new Date})})]}),(0,r.jsx)(u.C5,{className:"text-xs mt-1 error-message",children:et.formState.errors.startDateString?.message})]})}}),(0,r.jsx)(u.zB,{control:et.control,name:"endDateString",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.eI,{className:"flex flex-col",children:[(0,r.jsx)(u.lR,{htmlFor:"endDateString",children:S("InvoiceForm.endDateLabel")}),(0,r.jsxs)(f,{open:Z,onOpenChange:X,children:[(0,r.jsx)(u.MJ,{children:(0,r.jsxs)("div",{className:"w-full relative",children:[(0,r.jsx)(I.p,{value:t.value,onChange:e=>{t.onChange(e),em(e)},onBlur:()=>et.trigger("endDateString"),placeholder:W,className:`w-full pr-16 ${et.formState.errors.endDateString?"border-destructive focus:border-destructive focus:ring-2 focus:ring-destructive/20":""}`,id:"endDateString",name:"endDateString"}),t.value&&!et.formState.errors.endDateString&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-12 flex items-center z-[1]",children:(0,r.jsx)(s.A,{className:"h-4 w-4 text-success"})}),et.formState.errors.endDateString&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-12 flex items-center z-[1]",children:(0,r.jsx)(n.A,{className:"h-4 w-4 text-destructive"})}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center z-[1]",children:(0,r.jsx)(v,{asChild:!0,children:(0,r.jsx)(N.$,{type:"button",variant:"ghost",className:"h-7 w-7 p-0 rounded-full hover:bg-primary hover:text-primary-foreground transition-colors duration-200 cursor-pointer","aria-label":"Pick a date",children:(0,r.jsx)(o.A,{className:"h-4 w-4 transition-colors duration-200"})})})})]})}),(0,r.jsx)(x,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(F,{mode:"single",selected:T(et.watch("endDateString")??"")||void 0,onSelect:ec,initialFocus:!0,locale:U,defaultMonth:T(et.watch("endDateString")??"")||T(et.watch("startDateString")??"")||new Date,disabled:e=>{let t=T(et.watch("startDateString")??"");return!!t&&e<t}})})]}),(0,r.jsx)(u.C5,{className:"text-xs mt-1 error-message",children:et.formState.errors.endDateString?.message})]})}})]}),(0,r.jsx)(u.zB,{control:et.control,name:"includeEndDate",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(u.lR,{htmlFor:"includeEndDate",className:"text-base",children:S("InvoiceForm.includeEndDateLabel")}),(0,r.jsx)(u.Rr,{children:S("InvoiceForm.includeEndDateDescription")})]}),(0,r.jsx)(u.MJ,{children:(0,r.jsx)("div",{className:"flex items-center border-none outline-none",children:(0,r.jsx)(C.d,{checked:t.value,onCheckedChange:t.onChange,id:"includeEndDate",name:"includeEndDate"})})})]})}}),(0,r.jsx)(u.zB,{control:et.control,name:"splitPeriod",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.eI,{className:"flex flex-col items-start justify-start rounded-lg border p-4",children:[(0,r.jsxs)("div",{className:"space-y-0.5 pr-4 mb-3",children:[(0,r.jsx)(u.lR,{htmlFor:"splitPeriod",className:"text-base",children:S("InvoiceForm.splitPeriodLabel",{defaultValue:"Split Period"})}),(0,r.jsx)(u.Rr,{children:S("InvoiceForm.splitPeriodDescription",{defaultValue:"Choose how to split the invoice amounts."})})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)(y.l6,{onValueChange:t.onChange,defaultValue:t.value,value:t.value,name:t.name,children:[(0,r.jsx)(u.MJ,{children:(0,r.jsx)(y.bq,{className:"w-full",id:"splitPeriod",children:(0,r.jsx)(y.yv,{placeholder:S("InvoiceForm.periodYearly",{defaultValue:"Yearly"})})})}),(0,r.jsxs)(y.gC,{className:"!fixed !z-[9999] !overflow-visible shadow-lg",position:"popper",sideOffset:8,align:"center",avoidCollisions:!0,collisionPadding:20,children:[(0,r.jsx)(y.eb,{value:"yearly",className:"select-dropdown-item !cursor-pointer",style:{cursor:"pointer"},children:`${S("InvoiceForm.periodYearly",{defaultValue:"Yearly"})}`},"yearly"),(0,r.jsx)(y.eb,{value:"quarterly",className:"select-dropdown-item !cursor-pointer",style:{cursor:"pointer"},children:`${S("InvoiceForm.periodQuarterly",{defaultValue:"Quarterly"})}`},"quarterly"),(0,r.jsx)(y.eb,{value:"monthly",className:"select-dropdown-item !cursor-pointer",style:{cursor:"pointer"},children:`${S("InvoiceForm.periodMonthly",{defaultValue:"Monthly"})}`},"monthly")]})]}),(0,r.jsx)(u.C5,{})]})]})}}),(0,r.jsxs)("div",{className:"space-y-5 rounded-lg border p-6 shadow-xs",children:[(0,r.jsx)("h3",{className:"text-base font-medium",id:"amounts-section-label",children:S("InvoiceForm.amountsLabel")}),(0,r.jsx)(u.Rr,{children:S("InvoiceForm.amountsDescription")}),(0,r.jsxs)("div",{"aria-labelledby":"amounts-section-label",className:"space-y-4 mt-4",children:[ea.map((e,t)=>(0,r.jsx)(u.zB,{control:et.control,name:`amounts.${t}.value`,render:e=>{let{field:a}=e;return(0,r.jsxs)(u.eI,{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)(u.lR,{htmlFor:`amount-${t}`,className:"text-sm font-medium",children:["#",t+1]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(u.MJ,{children:(0,r.jsx)(I.p,{type:"number",step:"any",className:"focus:border-primary focus:ring-2 focus:ring-primary/20 transition-transform duration-150 pr-8",...a,id:`amount-${t}`,name:`amounts.${t}.value`})}),(0,r.jsxs)("div",{className:"absolute right-2 top-0 h-full flex items-center justify-center z-[1]",children:[a.value&&!isNaN(parseFloat(a.value))&&parseFloat(a.value)>0&&(0,r.jsx)("div",{className:"flex items-center justify-center h-5 w-5",children:(0,r.jsx)(s.A,{className:"h-4 w-4 text-success"})}),et.formState.errors.amounts?.[t]?.value&&(0,r.jsx)("div",{className:"flex items-center justify-center h-5 w-5",children:(0,r.jsx)(n.A,{className:"h-4 w-4 text-destructive"})})]})]}),ea.length>1&&(0,r.jsx)(N.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>es(t),className:"text-gray-400 hover:text-gray-500 hover:bg-gray-100 transition-all duration-200 shrink-0","aria-label":"Remove amount",children:(0,r.jsx)(l.A,{className:"h-4 w-4 transition-transform duration-150 hover:scale-95"})})]})]}),(0,r.jsx)(u.C5,{className:"text-xs mt-1 error-message"})]})}},e.id)),(0,r.jsxs)(N.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{er({value:""}),setTimeout(()=>{let e=document.querySelectorAll('input[type="number"]');e.length>0&&e[e.length-1].focus()},10)},className:"mt-4",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"})," ",S("InvoiceForm.addAmountButton")]}),et.formState.errors.amounts&&!et.formState.errors.amounts.root&&et.formState.errors.amounts.message&&(0,r.jsx)("p",{className:"text-sm font-medium text-destructive",children:et.formState.errors.amounts.message}),et.formState.errors.amounts?.root?.message&&(0,r.jsx)("p",{className:"text-sm font-medium text-destructive",children:et.formState.errors.amounts.root.message})]})]}),(0,r.jsx)(N.$,{type:"submit",variant:"default",className:`w-full bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-[1.02] px-6 py-2 h-11 font-medium rounded-md shadow-sm transition-all duration-200 hover:shadow-lg hover:shadow-primary/20 ${q?"animate-success-glow":""}`,disabled:et.formState.isSubmitting||z,"aria-live":"polite",children:z?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),J]}):J})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-muted/60 rounded-sm animate-pulse w-2/5"}),(0,r.jsx)("div",{className:"h-10 bg-muted/60 rounded-md animate-pulse w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-muted/60 rounded-sm animate-pulse w-2/5"}),(0,r.jsx)("div",{className:"h-10 bg-muted/60 rounded-md animate-pulse w-full"})]})]}),(0,r.jsxs)("div",{className:"h-20 bg-muted/40 rounded-lg animate-pulse border border-muted/30 p-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-muted/60 rounded-sm animate-pulse w-40"}),(0,r.jsx)("div",{className:"h-3 bg-muted/60 rounded-sm animate-pulse w-56"})]}),(0,r.jsx)("div",{className:"h-6 w-12 bg-muted/60 rounded-full animate-pulse"})]}),(0,r.jsxs)("div",{className:"h-20 bg-muted/40 rounded-lg animate-pulse border border-muted/30 p-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-muted/60 rounded-sm animate-pulse w-32"}),(0,r.jsx)("div",{className:"h-3 bg-muted/60 rounded-sm animate-pulse w-64"})]}),(0,r.jsx)("div",{className:"h-10 w-28 bg-muted/60 rounded-md animate-pulse"})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-muted/30 p-6 shadow-xs space-y-4 bg-muted/10",children:[(0,r.jsx)("div",{className:"h-5 bg-muted/60 rounded-sm animate-pulse w-1/4"}),(0,r.jsx)("div",{className:"h-4 bg-muted/60 rounded-sm animate-pulse w-3/5 mb-4"}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-3 bg-muted/60 rounded-sm animate-pulse w-8"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"h-10 bg-muted/60 rounded-md animate-pulse flex-grow"}),(0,r.jsx)("div",{className:"h-10 w-10 bg-muted/60 rounded-md animate-pulse opacity-0"})]})]})}),(0,r.jsx)("div",{className:"h-8 bg-muted/60 rounded-md animate-pulse w-40 mt-6"})]}),(0,r.jsx)("div",{className:"h-11 bg-primary/40 rounded-md animate-pulse w-full"})]})}}}]);
//# sourceMappingURL=2228.aba14513f0d2dea3.js.map