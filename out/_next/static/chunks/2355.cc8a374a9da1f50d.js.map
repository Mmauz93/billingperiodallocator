{"version":3,"file":"static/chunks/2355.cc8a374a9da1f50d.js","mappings":"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","sources":["webpack://_N_E/./src/components/ui/dropdown-menu.tsx","webpack://_N_E/../../../src/icons/globe.ts","webpack://_N_E/./node_modules/react-country-flag/dist/react-country-flag.esm.js","webpack://_N_E/./src/components/language-toggle.tsx"],"sourcesContent":["\"use client\";\n\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport * as React from \"react\";\n\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Helper function to get scrollbar width\nfunction getScrollbarWidth() {\n  if (typeof window === 'undefined') return 0;\n  return window.innerWidth - document.documentElement.clientWidth;\n}\n\n// Modified useScrollbarSize hook\nfunction useScrollbarSize(isOpen: boolean) { \n  React.useEffect(() => {\n    if (typeof document !== 'undefined') {\n      if (isOpen) {\n        document.documentElement.classList.add('prevent-scrollbar-shift');\n        const scrollbarWidth = getScrollbarWidth();\n        document.documentElement.style.setProperty('--scrollbar-width', `${scrollbarWidth}px`);\n        \n        // Return a cleanup function that will run when isOpen becomes false or component unmounts\n        return () => {\n          document.documentElement.classList.remove('prevent-scrollbar-shift');\n          // Consider if removing the variable is safe or if other components might rely on it.\n          // For now, let's remove it to be clean, assuming one active scroll-sensitive component at a time.\n          document.documentElement.style.removeProperty('--scrollbar-width'); \n        };\n      } else {\n        // If called with isOpen = false, and the class is present (e.g. from a previous true state that didn't cleanup yet)\n        // ensure it's removed. This handles transitions from true to false gracefully.\n        if (document.documentElement.classList.contains('prevent-scrollbar-shift')) {\n          document.documentElement.classList.remove('prevent-scrollbar-shift');\n          document.documentElement.style.removeProperty('--scrollbar-width');\n        }\n      }\n    }\n  }, [isOpen]); // Re-run when isOpen changes\n}\n\nfunction DropdownMenu({\n  onOpenChange, \n  open: controlledOpen,\n  defaultOpen,\n  modal = false, \n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  const [isInternalOpen, setIsInternalOpen] = React.useState(defaultOpen ?? false);\n  \n  // Determine the actual open state (controlled or internal)\n  const isActuallyOpen = controlledOpen !== undefined ? controlledOpen : isInternalOpen;\n\n  // Call the hook with the actual open state\n  useScrollbarSize(isActuallyOpen);\n\n  const handleOpenChange = React.useCallback((openParam: boolean) => {\n    if (controlledOpen === undefined) { // Only update internal state if not controlled\n      setIsInternalOpen(openParam);\n    }\n    if (onOpenChange) {\n      onOpenChange(openParam);\n    }\n  }, [onOpenChange, controlledOpen]);\n\n  return (\n      <DropdownMenuPrimitive.Root \n          data-slot=\"dropdown-menu\" \n          {...props} \n          open={isActuallyOpen}\n          onOpenChange={handleOpenChange}\n          modal={modal}\n      />\n  );\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, children, ...props }, ref) => {\n  // Smoothly handle mounting and unmounting\n  /* React.useEffect(() => {\n    // Ensure clean unmounting\n    return () => {\n      // Force cleanup any orphaned portal elements\n      if (typeof document !== 'undefined') {\n        // Ensure this cleanup happens after React's normal cleanup attempt\n        setTimeout(() => {\n          try {\n            document.querySelectorAll('[data-radix-dropdown-menu-content]').forEach(element => {\n              if (element && element.parentNode) {\n                element.parentNode.removeChild(element);\n              }\n            });\n          } catch (e) {\n            // Silently fail if cleanup causes any issues\n            console.debug(\"Error during dropdown cleanup:\", e);\n          }\n        }, 0);\n      }\n    };\n  }, []); */\n\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        ref={ref}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </DropdownMenuPrimitive.Content>\n    </DropdownMenuPrimitive.Portal>\n  );\n});\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => {\n  // Simplified: Radix handles its own animation states.\n  // We don't need the complex isMounted logic for SubContent if not adding custom animations.\n  // If custom mount/unmount animations controlled by isMounted were desired here,\n  // a similar pattern to DropdownMenuContent (non-prop controlled part) would be used.\n\n  return (\n    <DropdownMenuPrimitive.SubContent\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  );\n});\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20', key: '13o1zl' }],\n  ['path', { d: 'M2 12h20', key: '9i4pu4' }],\n];\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMCIgLz4KICA8cGF0aCBkPSJNMiAxMmgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('globe', __iconNode);\n\nexport default Globe;\n","import { createElement } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nvar _excluded = [\"cdnSuffix\", \"cdnUrl\", \"countryCode\", \"style\", \"svg\"];\nvar DEFAULT_CDN_URL = 'https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/';\nvar DEFAULT_CDN_SUFFIX = 'svg';\n// offset between uppercase ascii and regional indicator symbols\nvar OFFSET = 127397;\nvar ReactCountryFlag = function ReactCountryFlag(_ref) {\n  var _ref$cdnSuffix = _ref.cdnSuffix,\n    cdnSuffix = _ref$cdnSuffix === void 0 ? DEFAULT_CDN_SUFFIX : _ref$cdnSuffix,\n    _ref$cdnUrl = _ref.cdnUrl,\n    cdnUrl = _ref$cdnUrl === void 0 ? DEFAULT_CDN_URL : _ref$cdnUrl,\n    countryCode = _ref.countryCode,\n    style = _ref.style,\n    _ref$svg = _ref.svg,\n    svg = _ref$svg === void 0 ? false : _ref$svg,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  if (typeof countryCode !== 'string') {\n    return null;\n  }\n  if (svg) {\n    var flagUrl = \"\" + cdnUrl + countryCode.toLowerCase() + \".\" + cdnSuffix;\n    return createElement(\"img\", Object.assign({}, props, {\n      src: flagUrl,\n      style: _extends({\n        display: 'inline-block',\n        width: '1em',\n        height: '1em',\n        verticalAlign: 'middle'\n      }, style)\n    }));\n  }\n  var emoji = countryCode.toUpperCase().replace(/./g, function (_char) {\n    return String.fromCodePoint(_char.charCodeAt(0) + OFFSET);\n  });\n  return createElement(\"span\", Object.assign({\n    role: \"img\"\n  }, props, {\n    style: _extends({\n      display: 'inline-block',\n      fontSize: '1em',\n      lineHeight: '1em',\n      verticalAlign: 'middle'\n    }, style)\n  }), emoji);\n};\n\nexport default ReactCountryFlag;\nexport { ReactCountryFlag };\n//# sourceMappingURL=react-country-flag.esm.js.map\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\nimport { AnimatePresence, LazyMotion, domAnimation, motion } from \"framer-motion\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { LANGUAGE_STORAGE_KEY, SUPPORTED_LANGUAGES, changeLanguage } from \"@/translations\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Globe } from \"lucide-react\";\r\nimport ReactCountryFlag from \"react-country-flag\";\r\nimport { useTranslation } from \"@/translations\";\r\n\r\n// Helper function to set a cookie\r\nfunction setCookie(name: string, value: string, days: number) {\r\n  let expires = \"\";\r\n  if (days) {\r\n    const date = new Date();\r\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    expires = \"; expires=\" + date.toUTCString();\r\n  }\r\n  // Ensure SameSite=Lax for compatibility with middleware default\r\n  document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/; SameSite=Lax\";\r\n}\r\n\r\nexport default function LanguageToggle() {\r\n  const { i18n, t } = useTranslation();\r\n  const [mounted, setMounted] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  // Ensure hydration works properly\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const handleLanguageChange = (lang: string) => {\r\n    // Don't do anything if the language is already set to the target language\r\n    if (i18n.language === lang) {\r\n      setOpen(false);\r\n      return;\r\n    }\r\n    \r\n    // First check if we're on a legal page that requires special handling\r\n    const isLegalPage = pathname && (\r\n      pathname.includes('/legal/privacy-policy') || \r\n      pathname.includes('/legal/terms-of-use') ||\r\n      pathname.includes('/legal/impressum')\r\n    );\r\n    \r\n    // Save language in localStorage for persistence\r\n    localStorage.setItem(LANGUAGE_STORAGE_KEY, lang);\r\n    // Set cookie for middleware persistence\r\n    setCookie('NEXT_LOCALE', lang, 365); \r\n    \r\n    // Close dropdown menu\r\n    setOpen(false);\r\n\r\n    // Handle URL change and language update\r\n    if (pathname) {\r\n      // Get current language from URL\r\n      const pathSegments = pathname.split('/');\r\n      const currentLang = pathSegments.length > 1 && SUPPORTED_LANGUAGES.includes(pathSegments[1]) \r\n                           ? pathSegments[1] \r\n                           : null;\r\n      \r\n      let newPath;\r\n      \r\n      if (currentLang) {\r\n        // Replace language segment in path\r\n        newPath = pathname.replace(`/${currentLang}`, `/${lang}`);\r\n      } else {\r\n        // If no language in URL, add it\r\n        newPath = `/${lang}${pathname}`;\r\n      }\r\n      \r\n      // Different handling based on page type\r\n      if (isLegalPage) {\r\n        // For legal pages:\r\n        // 1. Update URL without a full page reload\r\n        window.history.pushState(null, '', newPath);\r\n        \r\n        // 2. Change the language after URL is updated\r\n        // This sequence is important to prevent the race condition\r\n        setTimeout(() => {\r\n          changeLanguage(lang);\r\n          \r\n          // 3. Dispatch event so other components know to update\r\n          document.dispatchEvent(new CustomEvent('languageChanged', { \r\n            detail: { language: lang, source: 'language-toggle' } \r\n          }));\r\n        }, 0);\r\n      } else {\r\n        // For regular pages, use router navigation\r\n        // Change language first to avoid flashing\r\n        changeLanguage(lang);\r\n        router.push(newPath);\r\n      }\r\n    } else {\r\n      // If no pathname available, just change the language\r\n      changeLanguage(lang);\r\n    }\r\n  };\r\n\r\n  if (!mounted) return null;\r\n\r\n  const isEnglish = i18n.language === \"en\";\r\n  const isGerman = i18n.language === \"de\";\r\n\r\n  return (\r\n    <DropdownMenu open={open} onOpenChange={setOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" aria-label={t(\"LanguageToggle.toggleLanguage\")}>\r\n          <Globe className=\"size-5\" />\r\n          <span className=\"sr-only\">{t(\"LanguageToggle.toggleLanguage\")}</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <LazyMotion features={domAnimation}>\r\n        <AnimatePresence>\r\n          {open && (\r\n            <DropdownMenuContent \r\n              align=\"end\" \r\n              side=\"top\" \r\n              sideOffset={4} \r\n              className=\"z-[1000] bg-popover border border-border shadow-lg rounded-lg\"\r\n              asChild\r\n              forceMount\r\n            >\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 5 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: 5 }}\r\n                transition={{ duration: 0.15 }}\r\n              >\r\n                <DropdownMenuItem \r\n                  onClick={() => handleLanguageChange(\"en\")}\r\n                  className={`cursor-pointer hover:text-primary ${isEnglish ? \"font-medium\" : \"\"}`}\r\n                >\r\n                  <ReactCountryFlag\r\n                    countryCode=\"GB\"\r\n                    svg\r\n                    style={{\r\n                      width: \"1.2em\",\r\n                      height: \"1.2em\",\r\n                      marginRight: \"0.5rem\",\r\n                    }}\r\n                    title=\"English\"\r\n                  />\r\n                  <span className={isEnglish ? \"font-bold\" : \"\"}>English</span>\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem \r\n                  onClick={() => handleLanguageChange(\"de\")}\r\n                  className={`cursor-pointer hover:text-primary ${isGerman ? \"font-medium\" : \"\"}`}\r\n                >\r\n                  <ReactCountryFlag\r\n                    countryCode=\"DE\"\r\n                    svg\r\n                    style={{\r\n                      width: \"1.2em\",\r\n                      height: \"1.2em\",\r\n                      marginRight: \"0.5rem\",\r\n                    }}\r\n                    title=\"Deutsch\"\r\n                  />\r\n                  <span className={isGerman ? \"font-bold\" : \"\"}>Deutsch</span>\r\n                </DropdownMenuItem>\r\n              </motion.div>\r\n            </DropdownMenuContent>\r\n          )}\r\n        </AnimatePresence>\r\n      </LazyMotion>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n"],"names":["DropdownMenu","onOpenChange","open","controlledOpen","defaultOpen","modal","props","isInternalOpen","setIsInternalOpen","React","isActuallyOpen","undefined","document","isOpen","documentElement","classList","add","scrollbarWidth","window","innerWidth","getScrollbarWidth","clientWidth","style","setProperty","remove","removeProperty","contains","handleOpenChange","openParam","DropdownMenuPrimitive","data-slot","DropdownMenuTrigger","DropdownMenuContent","className","sideOffset","children","ref","cn","DropdownMenuItem","inset","variant","data-inset","data-variant","displayName","LanguageToggle","i18n","t","useTranslation","mounted","setMounted","useState","setOpen","pathname","usePathname","router","useRouter","useEffect","handleLanguageChange","language","lang","isLegalPage","includes","localStorage","setItem","LANGUAGE_STORAGE_KEY","expires","date","Date","setTime","getTime","days","toUTCString","cookie","name","value","newPath","pathSegments","split","currentLang","length","SUPPORTED_LANGUAGES","replace","history","pushState","setTimeout","changeLanguage","dispatchEvent","CustomEvent","detail","source","push","isEnglish","isGerman","asChild","Button","size","aria-label","Globe","span","LazyMotion","features","domAnimation","AnimatePresence","align","side","forceMount","motion","div","initial","opacity","y","animate","exit","transition","duration","onClick","ReactCountryFlag","countryCode","svg","width","height","marginRight","title"],"sourceRoot":""}