{"version":3,"file":"static/chunks/app/de/legal/terms-of-use/page-bf92eb568ca0cc9d.js","mappings":"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","sources":["webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/preload-chunks.tsx","webpack://_N_E/./node_modules/next/dist/server/app-render/work-async-storage-instance.js","webpack://_N_E/../../../src/shared/lib/app-dynamic.tsx","webpack://_N_E/./node_modules/next/dist/api/app-dynamic.js","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/dynamic-bailout-to-csr.tsx","webpack://_N_E/./src/app/de/legal/terms-of-use/page.tsx","webpack://_N_E/./node_modules/next/dist/server/app-render/async-local-storage.js","webpack://_N_E/../../../../src/shared/lib/lazy-dynamic/loadable.tsx","webpack://_N_E/?b9a5","webpack://_N_E/./node_modules/next/dist/server/app-render/work-async-storage.external.js"],"sourcesContent":["'use client'\n\nimport { preload } from 'react-dom'\n\nimport { workAsyncStorage } from '../../../server/app-render/work-async-storage.external'\nimport { encodeURIPath } from '../encode-uri-path'\n\nexport function PreloadChunks({\n  moduleIds,\n}: {\n  moduleIds: string[] | undefined\n}) {\n  // Early return in client compilation and only load requestStore on server side\n  if (typeof window !== 'undefined') {\n    return null\n  }\n\n  const workStore = workAsyncStorage.getStore()\n  if (workStore === undefined) {\n    return null\n  }\n\n  const allFiles = []\n\n  // Search the current dynamic call unique key id in react loadable manifest,\n  // and find the corresponding CSS files to preload\n  if (workStore.reactLoadableManifest && moduleIds) {\n    const manifest = workStore.reactLoadableManifest\n    for (const key of moduleIds) {\n      if (!manifest[key]) continue\n      const chunks = manifest[key].files\n      allFiles.push(...chunks)\n    }\n  }\n\n  if (allFiles.length === 0) {\n    return null\n  }\n\n  const dplId = process.env.NEXT_DEPLOYMENT_ID\n    ? `?dpl=${process.env.NEXT_DEPLOYMENT_ID}`\n    : ''\n\n  return (\n    <>\n      {allFiles.map((chunk) => {\n        const href = `${workStore.assetPrefix}/_next/${encodeURIPath(chunk)}${dplId}`\n        const isCss = chunk.endsWith('.css')\n        // If it's stylesheet we use `precedence` o help hoist with React Float.\n        // For stylesheets we actually need to render the CSS because nothing else is going to do it so it needs to be part of the component tree.\n        // The `preload` for stylesheet is not optional.\n        if (isCss) {\n          return (\n            <link\n              key={chunk}\n              // @ts-ignore\n              precedence=\"dynamic\"\n              href={href}\n              rel=\"stylesheet\"\n              as=\"style\"\n            />\n          )\n        } else {\n          // If it's script we use ReactDOM.preload to preload the resources\n          preload(href, {\n            as: 'script',\n            fetchPriority: 'low',\n          })\n          return null\n        }\n      })}\n    </>\n  )\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"workAsyncStorageInstance\", {\n    enumerable: true,\n    get: function() {\n        return workAsyncStorageInstance;\n    }\n});\nconst _asynclocalstorage = require(\"./async-local-storage\");\nconst workAsyncStorageInstance = (0, _asynclocalstorage.createAsyncLocalStorage)();\n\n//# sourceMappingURL=work-async-storage-instance.js.map","import type React from 'react'\nimport type { JSX } from 'react'\nimport Loadable from './lazy-dynamic/loadable'\n\nimport type {\n  LoadableGeneratedOptions,\n  DynamicOptionsLoadingProps,\n  Loader,\n  LoaderComponent,\n} from './lazy-dynamic/types'\n\nexport {\n  type LoadableGeneratedOptions,\n  type DynamicOptionsLoadingProps,\n  type Loader,\n  type LoaderComponent,\n}\n\nexport type DynamicOptions<P = {}> = LoadableGeneratedOptions & {\n  loading?: () => JSX.Element | null\n  loader?: Loader<P>\n  loadableGenerated?: LoadableGeneratedOptions\n  modules?: string[]\n  ssr?: boolean\n}\n\nexport type LoadableOptions<P = {}> = DynamicOptions<P>\n\nexport type LoadableFn<P = {}> = (\n  opts: LoadableOptions<P>\n) => React.ComponentType<P>\n\nexport type LoadableComponent<P = {}> = React.ComponentType<P>\n\nexport default function dynamic<P = {}>(\n  dynamicOptions: DynamicOptions<P> | Loader<P>,\n  options?: DynamicOptions<P>\n): React.ComponentType<P> {\n  const loadableOptions: LoadableOptions<P> = {}\n\n  if (typeof dynamicOptions === 'function') {\n    loadableOptions.loader = dynamicOptions\n  }\n\n  const mergedOptions = {\n    ...loadableOptions,\n    ...options,\n  }\n\n  return Loadable({\n    ...mergedOptions,\n    modules: mergedOptions.loadableGenerated?.modules,\n  })\n}\n","export * from '../shared/lib/app-dynamic';\nexport { default } from '../shared/lib/app-dynamic';\n\n//# sourceMappingURL=app-dynamic.js.map","'use client'\n\nimport type { ReactElement } from 'react'\nimport { BailoutToCSRError } from './bailout-to-csr'\n\ninterface BailoutToCSRProps {\n  reason: string\n  children: ReactElement\n}\n\n/**\n * If rendered on the server, this component throws an error\n * to signal Next.js that it should bail out to client-side rendering instead.\n */\nexport function BailoutToCSR({ reason, children }: BailoutToCSRProps) {\n  if (typeof window === 'undefined') {\n    throw new BailoutToCSRError(reason)\n  }\n\n  return children\n}\n","\"use client\";\r\n\r\nimport { ReactNode, useCallback, useEffect, useState } from \"react\";\r\nimport { SUPPORTED_LANGUAGES, getLanguageFromPath } from \"@/translations\";\r\n\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport dynamic from \"next/dynamic\";\r\nimport remarkGfm from \"remark-gfm\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useTranslation } from \"@/translations\";\r\n\r\n// Create a NoSSR wrapper component with proper typing\r\nconst NoSSR = ({ children }: { children: ReactNode }) => {\r\n  return <>{children}</>;\r\n};\r\n\r\n// Define interface for component props\r\ninterface TermsOfUseContentProps {\r\n  termsContent: string;\r\n  isLoading: boolean;\r\n}\r\n\r\n// Use dynamic import with ssr: false to prevent SSR\r\nconst TermsOfUseContent = dynamic<TermsOfUseContentProps>(() => \r\n  Promise.resolve(({ termsContent, isLoading }: TermsOfUseContentProps) => {\r\n    return (\r\n      <article className=\"prose prose-lg dark:prose-invert\">\r\n        {isLoading ? (\r\n          <div className=\"flex justify-center items-center py-16\">\r\n            <div className=\"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full\" />\r\n          </div>\r\n        ) : (\r\n          <div className=\"custom-markdown-container\">\r\n            <ReactMarkdown\r\n              remarkPlugins={[remarkGfm]}\r\n              components={{\r\n                h1: ({ ...props }) => <h1 {...props} className=\"text-2xl font-bold mt-12 mb-4 text-[#0284C7]\" />,\r\n                h2: ({ ...props }) => <h2 {...props} className=\"text-xl font-semibold mt-12 mb-4 text-[#0284C7]\" />,\r\n                h3: ({ ...props }) => <h3 {...props} className=\"text-lg font-medium mt-10 mb-3 text-[#0284C7]\" />,\r\n                p: ({ ...props }) => <p {...props} className=\"text-sm leading-relaxed text-muted-foreground mb-6\" />,\r\n                ul: ({ ...props }) => <ul {...props} className=\"text-sm leading-relaxed text-muted-foreground mb-6 pl-6 list-disc\" />,\r\n                ol: ({ ...props }) => <ol {...props} className=\"text-sm leading-relaxed text-muted-foreground mb-6 pl-6 list-decimal\" />,\r\n                li: ({ ...props }) => <li {...props} className=\"mb-2\" />,\r\n                a: ({ ...props }) => <a {...props} className=\"text-[#0284C7] hover:underline\" />,\r\n                strong: ({ ...props }) => <strong {...props} className=\"font-semibold\" />,\r\n              }}\r\n            >  \r\n              {termsContent}\r\n            </ReactMarkdown>\r\n          </div>\r\n        )}\r\n      </article>\r\n    );\r\n  }), \r\n  { ssr: false }\r\n);\r\n\r\nexport default function TermsOfUsePageDE() {\r\n  const { i18n, t } = useTranslation();\r\n  const pathname = usePathname();\r\n  const [termsContent, setTermsContent] = useState<string>(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [langPrefix, setLangPrefix] = useState(\"de\");\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  \r\n  // Function to load terms content - Wrapped in useCallback\r\n  const loadTerms = useCallback(async (lang: string) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const langSuffix = lang === 'de' ? '.de' : '';\r\n      const response = await fetch(`/terms-of-use${langSuffix}.md`);\r\n      if (!response.ok) throw new Error('Failed to load terms');\r\n      const content = await response.text();\r\n      const processedContent = content\r\n        .replace(/^# .*$/m, '')\r\n        .replace(/^Last updated on.*$/m, '')\r\n        .replace(/^Zuletzt aktualisiert am.*$/m, '')\r\n        .trim();\r\n      setTermsContent(processedContent);\r\n    } catch (error) {\r\n      console.error('Error loading terms of use:', error);\r\n      setTermsContent(lang === 'de' \r\n        ? 'Die Nutzungsbedingungen konnten nicht geladen werden. Bitte versuchen Sie es spÃ¤ter erneut.' \r\n        : 'Failed to load terms of use. Please try again later.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [setIsLoading, setTermsContent]); // Stable dependencies\r\n  \r\n  // Get current URL language - Wrapped in useCallback\r\n  const getUrlLanguage = useCallback(() => {\r\n    if (!pathname) return 'de'; // Default or initial language\r\n    return getLanguageFromPath(pathname) || 'de';\r\n  }, [pathname]);\r\n  \r\n  // Effect 1: Handle initial mount and URL/language synchronization\r\n  useEffect(() => {\r\n    if (!isMounted) {\r\n      setIsMounted(true);\r\n      // On the very first run when isMounted becomes true, \r\n      // we determine the initial language and trigger a load.\r\n      const initialLang = getUrlLanguage();\r\n      setLangPrefix(initialLang);\r\n      loadTerms(initialLang); // Initial load\r\n      if (i18n.language !== initialLang) {\r\n        i18n.changeLanguage(initialLang);\r\n      }\r\n      document.title = t(\"Legal.termsOfUseTitle\") + \" | BillSplitter\";\r\n      return;\r\n    }\r\n\r\n    // Subsequent runs (e.g., due to pathname changing via getUrlLanguage, or t/i18n changing)\r\n    const currentUrlLang = getUrlLanguage();\r\n\r\n    if (currentUrlLang !== langPrefix) {\r\n      // Language has changed based on URL\r\n      setLangPrefix(currentUrlLang);\r\n      loadTerms(currentUrlLang);\r\n      if (i18n.language !== currentUrlLang) {\r\n        i18n.changeLanguage(currentUrlLang);\r\n      }\r\n      // Title will be updated when `t` changes or in the next render if i18n didn't change\r\n    }\r\n    \r\n    // Always ensure title is set with current `t`\r\n    // This covers cases where `t` might change without a language change (e.g. HMR of translation files)\r\n    // or after i18n.changeLanguage has resolved if it was async.\r\n    document.title = t(\"Legal.termsOfUseTitle\") + \" | BillSplitter\";\r\n\r\n  }, [isMounted, getUrlLanguage, langPrefix, loadTerms, i18n, t]); // Dependencies\r\n  \r\n  // Effect 2: Listen for external language change events\r\n  useEffect(() => {\r\n    if (!isMounted) return;\r\n    \r\n    const handleLanguageChanged = (e: Event) => {\r\n      const customEvent = e as CustomEvent;\r\n      const newLang = customEvent.detail?.language || customEvent.detail;\r\n      \r\n      // Only update if the new language is valid and different from the current state\r\n      if (newLang && typeof newLang === 'string' && SUPPORTED_LANGUAGES.includes(newLang) && newLang !== langPrefix) {\r\n        console.log(`[TermsOfUse] Language changed event detected: ${newLang}`);\r\n        setLangPrefix(newLang); // Update state\r\n        loadTerms(newLang); // Load new content\r\n        // i18n is likely already updated by the component that fired the event, but sync just in case\r\n        if (i18n.language !== newLang) {\r\n          i18n.changeLanguage(newLang);\r\n        }\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('languageChanged', handleLanguageChanged);\r\n    return () => document.removeEventListener('languageChanged', handleLanguageChanged);\r\n  }, [isMounted, loadTerms, i18n, langPrefix]); // Added langPrefix dependency\r\n  \r\n  const formattedDate = new Date().toLocaleDateString(langPrefix === 'de' ? 'de-DE' : 'en-US', { // Use state langPrefix\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  });\r\n\r\n  // Determine H1 title based on mount state to avoid hydration mismatch\r\n  const h1Title = isMounted ? t(\"Legal.termsOfUseTitle\") : (langPrefix === 'de' ? \"Nutzungsbedingungen\" : \"Terms of Use\");\r\n  \r\n  return (\r\n    <main className=\"container mx-auto max-w-3xl px-6 py-16\">\r\n      <div className=\"mb-10 text-center\">\r\n        <h1 className=\"text-3xl font-bold text-[#0284C7]\">\r\n          {h1Title}\r\n        </h1>\r\n        {isMounted && (\r\n          <p className=\"text-sm text-muted-foreground mt-2\">\r\n            {t(\"Legal.lastUpdatedPrefix\", \"Zuletzt aktualisiert am\")} {formattedDate}\r\n          </p>\r\n        )}\r\n      </div>\r\n      <NoSSR>\r\n        <TermsOfUseContent \r\n          termsContent={termsContent} \r\n          isLoading={isLoading}\r\n        />\r\n      </NoSSR>\r\n    </main>\r\n  );\r\n} \r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n0 && (module.exports = {\n    bindSnapshot: null,\n    createAsyncLocalStorage: null,\n    createSnapshot: null\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    bindSnapshot: function() {\n        return bindSnapshot;\n    },\n    createAsyncLocalStorage: function() {\n        return createAsyncLocalStorage;\n    },\n    createSnapshot: function() {\n        return createSnapshot;\n    }\n});\nconst sharedAsyncLocalStorageNotAvailableError = Object.defineProperty(new Error('Invariant: AsyncLocalStorage accessed in runtime where it is not available'), \"__NEXT_ERROR_CODE\", {\n    value: \"E504\",\n    enumerable: false,\n    configurable: true\n});\nclass FakeAsyncLocalStorage {\n    disable() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    getStore() {\n        // This fake implementation of AsyncLocalStorage always returns `undefined`.\n        return undefined;\n    }\n    run() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    exit() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    enterWith() {\n        throw sharedAsyncLocalStorageNotAvailableError;\n    }\n    static bind(fn) {\n        return fn;\n    }\n}\nconst maybeGlobalAsyncLocalStorage = typeof globalThis !== 'undefined' && globalThis.AsyncLocalStorage;\nfunction createAsyncLocalStorage() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return new maybeGlobalAsyncLocalStorage();\n    }\n    return new FakeAsyncLocalStorage();\n}\nfunction bindSnapshot(fn) {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.bind(fn);\n    }\n    return FakeAsyncLocalStorage.bind(fn);\n}\nfunction createSnapshot() {\n    if (maybeGlobalAsyncLocalStorage) {\n        return maybeGlobalAsyncLocalStorage.snapshot();\n    }\n    return function(fn, ...args) {\n        return fn(...args);\n    };\n}\n\n//# sourceMappingURL=async-local-storage.js.map","import { Suspense, Fragment, lazy } from 'react'\nimport { BailoutToCSR } from './dynamic-bailout-to-csr'\nimport type { ComponentModule } from './types'\nimport { PreloadChunks } from './preload-chunks'\n\n// Normalize loader to return the module as form { default: Component } for `React.lazy`.\n// Also for backward compatible since next/dynamic allows to resolve a component directly with loader\n// Client component reference proxy need to be converted to a module.\nfunction convertModule<P>(\n  mod: React.ComponentType<P> | ComponentModule<P> | undefined\n): {\n  default: React.ComponentType<P>\n} {\n  // Check \"default\" prop before accessing it, as it could be client reference proxy that could break it reference.\n  // Cases:\n  // mod: { default: Component }\n  // mod: Component\n  // mod: { default: proxy(Component) }\n  // mod: proxy(Component)\n  const hasDefault = mod && 'default' in mod\n  return {\n    default: hasDefault\n      ? (mod as ComponentModule<P>).default\n      : (mod as React.ComponentType<P>),\n  }\n}\n\nconst defaultOptions = {\n  loader: () => Promise.resolve(convertModule(() => null)),\n  loading: null,\n  ssr: true,\n}\n\ninterface LoadableOptions {\n  loader?: () => Promise<React.ComponentType<any> | ComponentModule<any>>\n  loading?: React.ComponentType<any> | null\n  ssr?: boolean\n  modules?: string[]\n}\n\nfunction Loadable(options: LoadableOptions) {\n  const opts = { ...defaultOptions, ...options }\n  const Lazy = lazy(() => opts.loader().then(convertModule))\n  const Loading = opts.loading\n\n  function LoadableComponent(props: any) {\n    const fallbackElement = Loading ? (\n      <Loading isLoading={true} pastDelay={true} error={null} />\n    ) : null\n\n    // If it's non-SSR or provided a loading component, wrap it in a suspense boundary\n    const hasSuspenseBoundary = !opts.ssr || !!opts.loading\n    const Wrap = hasSuspenseBoundary ? Suspense : Fragment\n    const wrapProps = hasSuspenseBoundary ? { fallback: fallbackElement } : {}\n    const children = opts.ssr ? (\n      <>\n        {/* During SSR, we need to preload the CSS from the dynamic component to avoid flash of unstyled content */}\n        {typeof window === 'undefined' ? (\n          <PreloadChunks moduleIds={opts.modules} />\n        ) : null}\n        <Lazy {...props} />\n      </>\n    ) : (\n      <BailoutToCSR reason=\"next/dynamic\">\n        <Lazy {...props} />\n      </BailoutToCSR>\n    )\n\n    return <Wrap {...wrapProps}>{children}</Wrap>\n  }\n\n  LoadableComponent.displayName = 'LoadableComponent'\n\n  return LoadableComponent\n}\n\nexport default Loadable\n","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Mauro\\\\Repos\\\\Siempi\\\\Saas\\\\billingperiodallocator\\\\src\\\\app\\\\de\\\\legal\\\\terms-of-use\\\\page.tsx\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"workAsyncStorage\", {\n    enumerable: true,\n    get: function() {\n        return _workasyncstorageinstance.workAsyncStorageInstance;\n    }\n});\nconst _workasyncstorageinstance = require(\"./work-async-storage-instance\");\n\n//# sourceMappingURL=work-async-storage.external.js.map"],"names":["PreloadChunks","moduleIds","dynamic","dynamicOptions","options","mergedOptions","loadableOptions","loader","Loadable","modules","loadableGenerated","BailoutToCSR","reason","children","NoSSR","TermsOfUseContent","Promise","resolve","termsContent","isLoading","article","className","div","ReactMarkdown","remarkPlugins","remarkGfm","components","h1","props","h2","h3","p","ul","ol","li","a","strong","ssr","TermsOfUsePageDE","i18n","t","useTranslation","pathname","usePathname","setTermsContent","useState","setIsLoading","langPrefix","setLangPrefix","isMounted","setIsMounted","loadTerms","useCallback","lang","response","fetch","ok","Error","processedContent","content","text","replace","trim","error","console","getUrlLanguage","getLanguageFromPath","useEffect","initialLang","language","changeLanguage","document","title","currentUrlLang","handleLanguageChanged","newLang","customEvent","detail","e","SUPPORTED_LANGUAGES","includes","log","addEventListener","removeEventListener","formattedDate","Date","toLocaleDateString","year","month","day","h1Title","main","convertModule","mod","default","defaultOptions","loading","opts","Lazy","lazy","then","Loading","LoadableComponent","fallbackElement","pastDelay","hasSuspenseBoundary","Wrap","Suspense","Fragment","fallback","wrapProps","displayName"],"sourceRoot":""}