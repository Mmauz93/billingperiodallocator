(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{424:(e,t,a)=>{"use strict";a.d(t,{SettingsProvider:()=>o,t:()=>i});var s=a(95155),r=a(12115);let l={decimalPlaces:2,roundingPrecision:.01,thousandsSeparator:"comma-period"},n=(0,r.createContext)(void 0),o=e=>{let{children:t}=e,[a,o]=(0,r.useState)(()=>{let e=localStorage.getItem("appSettings"),t=e?JSON.parse(e):{};return"locale"in t&&delete t.locale,{...l,...t}}),[i,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!i){try{let e=localStorage.getItem("appSettings");if(e){let t=JSON.parse(e);"locale"in t&&delete t.locale,"number"==typeof t.decimalPlaces&&"number"==typeof t.roundingPrecision&&t.roundingPrecision>0&&("comma-period"===t.thousandsSeparator||"apostrophe"===t.thousandsSeparator)?o(e=>({...l,...e,...t})):(console.warn("Loaded settings from localStorage are invalid or incomplete (excluding locale). Using defaults."),o(l),localStorage.removeItem("appSettings"))}else o(l)}catch(e){console.error("Failed to load settings from localStorage:",e),o(l)}d(!0)}},[i]),(0,s.jsx)(n.Provider,{value:{settings:a,saveSettings:e=>{try{let t={...void 0!==e.decimalPlaces&&{decimalPlaces:e.decimalPlaces},...void 0!==e.roundingPrecision&&{roundingPrecision:e.roundingPrecision},...void 0!==e.thousandsSeparator&&{thousandsSeparator:e.thousandsSeparator}},s={...a,...t};o(s),localStorage.setItem("appSettings",JSON.stringify(s))}catch(e){console.error("Failed to save settings to localStorage:",e)}}},children:t})},i=()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useSettings must be used within a SettingsProvider");return e}},32383:()=>{},74057:(e,t,a)=>{"use strict";a.d(t,{InvoiceCalculatorClient:()=>ts});var s=a(95155),r=a(12115),l=a(74466),n=a(52596),o=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,n.$)(t))}let d=(0,l.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:i(d({variant:a}),t),...r})}function u(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-title",className:i("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-description",className:i("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...a})}var x=a(99708);let p=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function h(e){let{className:t,variant:a,size:r,asChild:l=!1,...n}=e,o=l?x.DX:"button";return(0,s.jsx)(o,{"data-slot":"button",className:i(p({variant:a,size:r,className:t})),...n})}var g=a(57383),f=a(15452),v=a(54416);function b(e){let{...t}=e;return(0,s.jsx)(f.bL,{"data-slot":"dialog",...t})}function j(e){let{...t}=e;return(0,s.jsx)(f.ZL,{"data-slot":"dialog-portal",...t})}function y(e){let{...t}=e;return(0,s.jsx)(f.bm,{"data-slot":"dialog-close",...t})}function N(e){let{className:t,...a}=e;return(0,s.jsx)(f.hJ,{"data-slot":"dialog-overlay",className:i("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function w(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,s.jsx)(N,{}),(0,s.jsxs)(f.UC,{"data-slot":"dialog-content",className:i("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[a,(0,s.jsxs)(f.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 cursor-pointer",children:[(0,s.jsx)(v.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function D(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:i("flex flex-col gap-2 text-center sm:text-left",t),...a})}function S(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:i("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function k(e){let{className:t,...a}=e;return(0,s.jsx)(f.hE,{"data-slot":"dialog-title",className:i("text-lg leading-none font-semibold",t),...a})}function C(e){let{className:t,...a}=e;return(0,s.jsx)(f.VY,{"data-slot":"dialog-description",className:i("text-muted-foreground text-sm",t),...a})}var F=a(40968);function A(e){let{className:t,...a}=e;return(0,s.jsx)(F.b,{"data-slot":"label",className:i("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}var R=a(81497);function P(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:i("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}var _=a(91218);function E(){let{t:e}=(0,_.Bd)(),[t,a]=(0,r.useState)(!1),[l,n]=(0,r.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[(0,s.jsx)(R.A,{className:"mr-2 h-4 w-4"})," ",e("FeedbackDialog.sendFeedbackButton")," "]}),(0,s.jsx)(b,{open:t,onOpenChange:a,children:(0,s.jsxs)(w,{className:"sm:max-w-[480px]",children:[(0,s.jsxs)(D,{children:[(0,s.jsx)(k,{children:e("FeedbackDialog.dialogTitle")}),(0,s.jsx)(C,{children:e("Accessibility.feedbackDescription")})]}),(0,s.jsx)("div",{className:"grid gap-4 py-4",children:(0,s.jsxs)("div",{className:"grid w-full gap-1.5",children:[(0,s.jsx)(A,{htmlFor:"message",children:e("FeedbackDialog.messageLabel")}),(0,s.jsx)(P,{placeholder:e("FeedbackDialog.messagePlaceholder"),id:"message",value:l,onChange:e=>n(e.target.value)})]})}),(0,s.jsxs)(S,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsx)(h,{type:"button",variant:"outline",children:e("FeedbackDialog.cancelButton")})}),(0,s.jsx)(h,{type:"button",onClick:()=>{let t=encodeURIComponent(e("FeedbackDialog.dialogTitle")),s=encodeURIComponent(l);window.location.href="mailto:".concat("billsplitter@siempi.ch","?subject=").concat(t,"&body=").concat(s),a(!1),n("")},children:e("FeedbackDialog.openEmailButton")})]})]})})]})}var I=a(65125),T=a(15448),z=a(80644),L=a(70831),V=a(24386),B=a(20908),M=a(94376),O=a(66389);function H(e,t){return Number(Math.round(Number(e+"e"+t))+"e-"+t)}var G=a(69074),W=a(81284),Y=a(54861),q=a(49103),U=a(62177);let J=r.createContext({}),Z=e=>{let{...t}=e;return(0,s.jsx)(J.Provider,{value:{name:t.name},children:(0,s.jsx)(U.xI,{...t})})},K=()=>{let e=r.useContext(J),t=r.useContext(X),{getFieldState:a}=(0,U.xW)(),s=(0,U.lN)({name:e.name}),l=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},X=r.createContext({});function $(e){let{className:t,...a}=e,l=r.useId();return(0,s.jsx)(X.Provider,{value:{id:l},children:(0,s.jsx)("div",{"data-slot":"form-item",className:i("grid gap-2",t),...a})})}function Q(e){let{className:t,...a}=e,{error:r,formItemId:l}=K();return(0,s.jsx)(A,{"data-slot":"form-label","data-error":!!r,className:i("data-[error=true]:text-destructive",t),htmlFor:l,...a})}function ee(e){let{...t}=e,{error:a,formItemId:r,formDescriptionId:l,formMessageId:n}=K();return(0,s.jsx)(x.DX,{"data-slot":"form-control",id:r,"aria-describedby":a?"".concat(l," ").concat(n):"".concat(l),"aria-invalid":!!a,...t})}function et(e){let{className:t,...a}=e,{formDescriptionId:r}=K();return(0,s.jsx)("p",{"data-slot":"form-description",id:r,className:i("text-muted-foreground text-sm",t),...a})}function ea(e){var t;let{className:a,...r}=e,{error:l,formMessageId:n}=K(),o=l?String(null!=(t=null==l?void 0:l.message)?t:""):r.children;return o?(0,s.jsx)("p",{"data-slot":"form-message",id:n,className:i("text-destructive text-sm",a),...r,children:o}):null}var es=a(20547);function er(e){let{...t}=e;return(0,s.jsx)(es.bL,{"data-slot":"popover",...t})}function el(e){let{...t}=e;return(0,s.jsx)(es.l9,{"data-slot":"popover-trigger",...t})}function en(e){let{className:t,align:a="center",sideOffset:r=4,...l}=e;return(0,s.jsx)(es.ZL,{children:(0,s.jsx)(es.UC,{"data-slot":"popover-content",align:a,sideOffset:r,className:i("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...l})})}var eo=a(64047),ei=a(1306),ed=a(389),ec=a(3784),eu=a(42355),em=a(13052),ex=a(75914);function ep(e){var t,a;let{className:r,classNames:l,showOutsideDays:n=!0,locale:o,...d}=e;return(0,s.jsx)(ex.h,{showOutsideDays:n,className:i("p-3",r),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:i(p({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",month_grid:"w-full border-collapse space-y-1",weekdays:"flex",weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",week:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:i(p({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...l},components:{Chevron:e=>{let{className:t,orientation:a,...r}=e;return"left"===a?(0,s.jsx)(eu.A,{className:i(t,"h-4 w-4"),...r}):(0,s.jsx)(em.A,{className:i(t,"h-4 w-4"),...r})}},locale:o,weekStartsOn:null!=(a=null==o||null==(t=o.options)?void 0:t.weekStartsOn)?a:1,...d})}function eh(e){let{className:t,type:a,...r}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:i("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}ep.displayName="Calendar";var eg=a(4884);function ef(e){let{className:t,...a}=e;return(0,s.jsx)(eg.bL,{"data-slot":"switch",className:i("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t),...a,children:(0,s.jsx)(eg.zi,{"data-slot":"switch-thumb",className:i("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var ev=a(55594),eb=a(90221);let ej="yyyy-MM-dd",ey="dd.MM.yyyy",eN=e=>ev.z.object({startDate:ev.z.date({invalid_type_error:e("InvoiceForm.errorDateFormat")}).optional(),endDate:ev.z.date({invalid_type_error:e("InvoiceForm.errorDateFormat")}).optional(),includeEndDate:ev.z.boolean(),amounts:ev.z.array(ev.z.object({value:ev.z.string().min(1,{message:e("InvoiceForm.errorAmountValueRequired")}).refine(e=>!isNaN(parseFloat(e))&&parseFloat(e)>0,{message:e("InvoiceForm.errorAmountPositive")})})).min(1,e("InvoiceForm.errorAmountRequired"))}).refine(e=>!e.startDate||!e.endDate||e.endDate>=e.startDate,{message:e("InvoiceForm.errorEndDateBeforeStart"),path:["endDate"]}).refine(e=>void 0!==e.startDate,{message:e("InvoiceForm.errorStartDateRequired"),path:["startDate"]}).refine(e=>void 0!==e.endDate,{message:e("InvoiceForm.errorEndDateRequired"),path:["endDate"]});function ew(e){var t,a;let{onCalculate:l}=e,{t:n,i18n:o}=(0,_.Bd)(),[i,d]=(0,r.useState)(!1),c=eN(n),u=o.language.startsWith("de")?eo.de:ei.c,m=o.language.startsWith("de")?ey:ej,x=(0,U.mN)({resolver:(0,eb.u)(c),defaultValues:{startDate:void 0,endDate:void 0,includeEndDate:!1,amounts:[{value:""}]},mode:"onChange"}),{fields:p,append:g,remove:f}=(0,U.jz)({control:x.control,name:"amounts"}),[v,b]=(0,r.useState)(x.getValues("startDate")?(0,O.GP)(x.getValues("startDate"),ej):""),[j,y]=(0,r.useState)(x.getValues("endDate")?(0,O.GP)(x.getValues("endDate"),ej):""),[N,w]=(0,r.useState)(!1),[D,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d(!0)},[]),(0,r.useEffect)(()=>{let e=o.language.startsWith("de")?ey:ej,t=x.getValues("startDate"),a=x.getValues("endDate");if(t)try{b((0,O.GP)(t,e))}catch(e){console.error("Error formatting start date on lang change:",e)}else b("");if(a)try{y((0,O.GP)(a,e))}catch(e){console.error("Error formatting end date on lang change:",e)}else y("")},[o.language,x,i]);let k=(e,t)=>{let a=e.target.value;"startDate"===t&&b(a),"endDate"===t&&y(a);let s=(0,ed.qg)(a,m,new Date);(0,ec.f)(s)||(s=(0,ed.qg)(a,ej,new Date)),(0,ec.f)(s)?x.setValue(t,(0,z.o)(s),{shouldValidate:!0}):x.setValue(t,void 0,{shouldValidate:!0})},C=e=>{if(e){let t=(0,z.o)(e);x.setValue("startDate",t,{shouldValidate:!0}),b((0,O.GP)(t,m))}else x.setValue("startDate",void 0,{shouldValidate:!0}),b("");w(!1)},F=e=>{if(e){let t=(0,z.o)(e);x.setValue("endDate",t,{shouldValidate:!0}),y((0,O.GP)(t,m))}else x.setValue("endDate",void 0,{shouldValidate:!0}),y("");S(!1)};return i?(0,s.jsx)(U.Op,{...x,children:(0,s.jsxs)("form",{onSubmit:x.handleSubmit(function(e){if(void 0===e.startDate||void 0===e.endDate)return void console.error("Form submitted with undefined dates despite validation");let t=e.amounts.map(e=>Number(e.value)),a={startDate:e.startDate,endDate:e.endDate,includeEndDate:e.includeEndDate,amounts:t};l(a,null);let s={startDate:e.startDate,endDate:e.endDate,includeEndDate:e.includeEndDate,amounts:t};console.log("Calculating with input:",s);try{var r;let e=function(e){let t={totalDuration:{days:0,start:"",end:"",included:e.includeEndDate},yearSegments:[],amountCalculations:[]};if(!e.amounts||0===e.amounts.length)return{totalDays:0,originalTotalAmount:0,adjustedTotalAmount:0,resultsPerAmount:[],aggregatedSplits:[],calculationSteps:{...t,error:"At least one amount is required."}};if(e.amounts.some(e=>isNaN(e)||null===e))return{totalDays:0,originalTotalAmount:0,adjustedTotalAmount:0,resultsPerAmount:[],aggregatedSplits:[],calculationSteps:{...t,error:"Invalid non-numeric amount provided."}};let a=H(e.amounts.reduce((e,t)=>e+t,0),2),s=(0,z.o)(e.startDate),r=(0,z.o)(e.endDate);if(e.includeEndDate&&(r=(0,L.f)(r,1)),t.totalDuration.start=(0,O.GP)(s,"yyyy-MM-dd"),t.totalDuration.end=(0,O.GP)(r,"yyyy-MM-dd"),s>=r)return{totalDays:0,originalTotalAmount:a,adjustedTotalAmount:0,resultsPerAmount:[],aggregatedSplits:[],calculationSteps:{...t,error:"Start date must be before the effective end date."}};let l=(0,V.c)(r,s);if(t.totalDuration.days=l,l<=0)return{totalDays:0,originalTotalAmount:a,adjustedTotalAmount:0,resultsPerAmount:[],aggregatedSplits:[],calculationSteps:{...t,error:"Calculated duration is zero or negative."}};let n={},o=s;for(;o<r;){let e=(0,B.C)(o),t=(0,M.Q)(o),a=(0,z.o)((0,L.f)(t,1)),s=r<a?r:a,i=(0,V.c)(s,o);if(i>0){let t=i/l;n[e]||(n[e]={days:0,proportion:0}),n[e].days+=i,n[e].proportion+=t}o=s}t.yearSegments=Object.entries(n).map(e=>{let[t,a]=e;return{year:Number(t),days:a.days,proportion:a.proportion}}).sort((e,t)=>e.year-t.year);let i=[];for(let a of e.amounts){let e={originalAmount:a,yearSplits:[],discrepancy:0,finalSum:0},s=[];for(let t in n){let r=Number(t),l=a*n[r].proportion;s.push({year:r,rawSplit:l}),e.yearSplits.push({year:r,rawSplit:l,roundedSplit:0,adjustment:0})}let r=s.map(e=>({...e,roundedSplit:H(e.rawSplit,2)}));r.forEach(t=>{let a=e.yearSplits.find(e=>e.year===t.year);a&&(a.roundedSplit=t.roundedSplit)});let l=H(r.reduce((e,t)=>e+t.roundedSplit,0),2);e.discrepancy=H(a-l,2);let o={};r.forEach(e=>{o[e.year]={splitAmount:e.roundedSplit}});let d=H(r.reduce((e,t)=>e+t.roundedSplit,0),2);e.finalSum=d,i.push({originalAmount:a,adjustedTotalAmount:d,splits:o}),t.amountCalculations.push(e)}let d=Object.entries(n).map(e=>{let[t,a]=e,s=Number(t),r=0;return i.forEach(e=>{var t;r+=(null==(t=e.splits[s])?void 0:t.splitAmount)||0}),{year:s,daysInYear:a.days,proportion:a.proportion,totalSplitAmount:H(r,2)}}).sort((e,t)=>e.year-t.year);return{totalDays:l,originalTotalAmount:a,adjustedTotalAmount:H(d.reduce((e,t)=>e+t.totalSplitAmount,0),2),resultsPerAmount:i,aggregatedSplits:d,calculationSteps:t}}(s);console.log("Calculation Results:",e),(null==(r=e.calculationSteps)?void 0:r.error)?l(a,null,e.calculationSteps.error):e.aggregatedSplits&&0!==e.aggregatedSplits.length?l(a,e):l(a,null,"Calculation completed but resulted in no splits.")}catch(e){console.error("Calculation Error:",e),l(a,null,e instanceof Error?e.message:"An unexpected error occurred during calculation.")}}),className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(Z,{control:x.control,name:"startDate",render:e=>{let{field:t}=e;return(0,s.jsxs)($,{className:"flex flex-col",children:[(0,s.jsx)(Q,{children:n("InvoiceForm.startDateLabel")}),(0,s.jsxs)(er,{open:N,onOpenChange:w,children:[(0,s.jsx)(ee,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(eh,{placeholder:m,value:v,onChange:e=>k(e,"startDate"),className:"pr-10"}),(0,s.jsx)(el,{asChild:!0,children:(0,s.jsx)(h,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground","aria-label":"Open start date calendar",children:(0,s.jsx)(G.A,{className:"h-4 w-4"})})})]})}),(0,s.jsx)(en,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(ep,{mode:"single",selected:t.value,onSelect:C,locale:u,initialFocus:!0,disabled:t.disabled})})]}),(0,s.jsx)(ea,{})]})}}),(0,s.jsx)(Z,{control:x.control,name:"endDate",render:e=>{let{field:t}=e;return(0,s.jsxs)($,{className:"flex flex-col",children:[(0,s.jsx)(Q,{children:n("InvoiceForm.endDateLabel")}),(0,s.jsxs)(er,{open:D,onOpenChange:S,children:[(0,s.jsx)(ee,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(eh,{placeholder:m,value:j,onChange:e=>k(e,"endDate"),className:"pr-10"}),(0,s.jsx)(el,{asChild:!0,children:(0,s.jsx)(h,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground","aria-label":"Open end date calendar",children:(0,s.jsx)(G.A,{className:"h-4 w-4"})})})]})}),(0,s.jsx)(en,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(ep,{mode:"single",selected:t.value,onSelect:F,locale:u,initialFocus:!0,disabled:t.disabled})})]}),(0,s.jsx)(ea,{})]})}})]}),(0,s.jsx)(Z,{control:x.control,name:"includeEndDate",render:e=>{let{field:t}=e;return(0,s.jsxs)($,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsxs)(Q,{className:"text-base flex items-center",children:[n("InvoiceForm.includeEndDateLabel"),(0,s.jsxs)(er,{children:[(0,s.jsx)(el,{asChild:!0,className:"ml-2",children:(0,s.jsxs)(h,{variant:"ghost",size:"icon",className:"h-5 w-5 cursor-pointer hover:text-primary focus:text-primary transition-colors",children:[(0,s.jsx)(W.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"More info"})]})}),(0,s.jsx)(en,{className:"text-sm w-auto max-w-xs sm:max-w-sm",children:n("InvoiceForm.includeEndDateTooltip")})]})]}),(0,s.jsx)(et,{children:n("InvoiceForm.includeEndDateDescription")})]}),(0,s.jsx)(ee,{children:(0,s.jsx)(ef,{checked:t.value,onCheckedChange:t.onChange})})]})}}),(0,s.jsxs)("div",{className:"space-y-4 rounded-lg border p-4",children:[(0,s.jsx)(Q,{className:"text-base",children:n("InvoiceForm.amountsLabel")}),(0,s.jsx)(et,{children:n("InvoiceForm.amountsDescription")}),p.map((e,t)=>(0,s.jsx)(Z,{control:x.control,name:"amounts.".concat(t,".value"),render:e=>{let{field:a}=e;return(0,s.jsxs)($,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)(Q,{className:"text-sm font-medium",children:["#",t+1]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee,{children:(0,s.jsx)(eh,{type:"number",step:"any",placeholder:n("InvoiceForm.amountPlaceholder",{index:t+1}),...a})}),p.length>1&&(0,s.jsx)(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>f(t),className:"text-destructive hover:text-destructive shrink-0","aria-label":"Remove amount",children:(0,s.jsx)(Y.A,{className:"h-4 w-4"})})]})]}),(0,s.jsx)(ea,{})]})}},e.id)),(0,s.jsxs)(h,{type:"button",variant:"outline",size:"sm",onClick:()=>g({value:""}),className:"mt-2",children:[(0,s.jsx)(q.A,{className:"mr-2 h-4 w-4"})," ",n("InvoiceForm.addAmountButton")]}),x.formState.errors.amounts&&!x.formState.errors.amounts.root&&x.formState.errors.amounts.message&&(0,s.jsx)("p",{className:"text-sm font-medium text-destructive",children:x.formState.errors.amounts.message}),(null==(a=x.formState.errors.amounts)||null==(t=a.root)?void 0:t.message)&&(0,s.jsx)("p",{className:"text-sm font-medium text-destructive",children:x.formState.errors.amounts.root.message})]}),(0,s.jsx)(h,{type:"submit",disabled:x.formState.isSubmitting,children:x.formState.isSubmitting?n("InvoiceForm.calculatingButton"):n("InvoiceForm.calculateButton")})]})}):(0,s.jsx)("div",{className:"space-y-8 h-[400px]"})}var eD=a(9449);function eS(e){let{...t}=e;return(0,s.jsx)(eD.bL,{"data-slot":"dropdown-menu",...t})}function ek(e){let{...t}=e;return(0,s.jsx)(eD.l9,{"data-slot":"dropdown-menu-trigger",...t})}function eC(e){let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(eD.ZL,{children:(0,s.jsx)(eD.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:i("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function eF(e){let{className:t,inset:a,variant:r="default",...l}=e;return(0,s.jsx)(eD.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:i("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}var eA=a(47835);function eR(){let{i18n:e}=(0,_.Bd)(),[t,a]=r.useState(!1);r.useEffect(()=>{a(!0)},[]);let l=t=>{e.changeLanguage(t)};return t?(0,s.jsxs)(eS,{children:[(0,s.jsx)(ek,{asChild:!0,children:(0,s.jsxs)(h,{variant:"ghost",size:"icon","aria-label":"Change language",children:[" ",(0,s.jsx)(eA.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Change language"})]})}),(0,s.jsxs)(eC,{align:"end",children:[(0,s.jsx)(eF,{onClick:()=>l("en"),disabled:e.language.startsWith("en"),children:"English"}),(0,s.jsx)(eF,{onClick:()=>l("de"),disabled:e.language.startsWith("de"),children:"Deutsch"})]})]}):(0,s.jsx)(h,{variant:"ghost",size:"icon",disabled:!0,children:(0,s.jsx)(eA.A,{className:"h-5 w-5"})})}var eP=a(90792);function e_(e){let{isOpen:t,onOpenChange:a,title:r,content:l}=e,{t:n}=(0,_.Bd)();return(0,s.jsx)(b,{open:t,onOpenChange:a,children:(0,s.jsxs)(w,{className:"max-w-3xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,s.jsx)(D,{children:(0,s.jsx)(k,{className:"text-xl font-semibold",children:r})}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:n("General.lastUpdated",{date:"April 25, 2025"})}),(0,s.jsx)("div",{className:"overflow-y-auto pr-6 -mr-6 pb-4 text-sm",children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)(eP.oz,{components:{h1:e=>{let{...t}=e;return(0,s.jsx)("h1",{className:"text-2xl font-bold my-4",...t})},h2:e=>{let{...t}=e;return(0,s.jsx)("h2",{className:"text-xl font-bold my-3",...t})},h3:e=>{let{...t}=e;return(0,s.jsx)("h3",{className:"text-lg font-bold my-2",...t})},p:e=>{let{...t}=e;return(0,s.jsx)("p",{className:"mb-3 leading-relaxed",...t})},ul:e=>{let{...t}=e;return(0,s.jsx)("ul",{className:"list-disc pl-6 mb-3",...t})},ol:e=>{let{...t}=e;return(0,s.jsx)("ol",{className:"list-decimal pl-6 mb-3",...t})},li:e=>{let{...t}=e;return(0,s.jsx)("li",{className:"mb-1",...t})},a:e=>{let{...t}=e;return(0,s.jsx)("a",{className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",...t})}},children:l||""})})}),(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsx)(h,{onClick:()=>a(!1),children:n("SettingsModal.closeButton")})})]})})}var eE=a(3925),eI=a(23478),eT=a(66474);function ez(e){let{...t}=e;return(0,s.jsx)(eI.bL,{"data-slot":"accordion",...t})}function eL(e){let{className:t,...a}=e;return(0,s.jsx)(eI.q7,{"data-slot":"accordion-item",className:i("border-b last:border-b-0",t),...a})}function eV(e){let{className:t,children:a,...r}=e;return(0,s.jsx)(eI.Y9,{className:"flex",children:(0,s.jsxs)(eI.l9,{"data-slot":"accordion-trigger",className:i("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[a,(0,s.jsx)(eT.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function eB(e){let{className:t,children:a,...r}=e;return(0,s.jsx)(eI.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:(0,s.jsx)("div",{className:i("pt-0 pb-4",t),children:a})})}function eM(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:i("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function eO(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:i("px-6",t),...a})}function eH(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:i("flex items-center px-6 [.border-t]:pt-6",t),...a})}function eG(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:i("w-full caption-bottom text-sm",t),...a})})}function eW(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:i("[&_tr]:border-b",t),...a})}function eY(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:i("[&_tr:last-child]:border-0",t),...a})}function eq(e){let{className:t,...a}=e;return(0,s.jsx)("tfoot",{"data-slot":"table-footer",className:i("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",t),...a})}function eU(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:i("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function eJ(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:i("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function eZ(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:i("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}var eK=a(91788),eX=a(76118),e$=a(26597),eQ=a(424);function e0(e,t,a){if(null==e||isNaN(e))return"";let s=new Intl.NumberFormat(t,{minimumFractionDigits:a.decimalPlaces,maximumFractionDigits:a.decimalPlaces,useGrouping:!0}).format(e);if("apostrophe"===a.thousandsSeparator)if("de"==(t.startsWith("de")?"de":"en")){let e=s.split(",");e[0]=e[0].replace(/\./g,"'"),s=e.join(",")}else s=s.replace(/,/g,"'");return s}function e1(e,t){if(!e)return"";try{let a=new Date(e+"T00:00:00Z");if(isNaN(a.getTime()))return e;return new Intl.DateTimeFormat(t,{year:"numeric",month:"numeric",day:"numeric"}).format(a)}catch(t){return console.error("Error formatting date:",t),e}}let e2=e=>{let{steps:t,settings:a}=e,{t:r,i18n:l}=(0,_.Bd)(),n=l.language;if(t.error)return(0,s.jsx)("p",{className:"text-destructive",children:t.error});let{totalDuration:o,yearSegments:i,amountCalculations:d}=t,c=e=>e1(e,n),u=e=>e0(e,n,a);return(0,s.jsxs)("div",{className:"text-sm space-y-6",children:[(0,s.jsxs)("section",{className:"bg-muted/40 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-base text-foreground mb-3",children:r("ResultsDisplay.totalDuration")}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 gap-y-1 text-muted-foreground",children:[(0,s.jsx)("span",{className:"font-medium text-foreground",children:r("ResultsDisplay.periodLabel")}),(0,s.jsxs)("span",{children:[c(o.start)," to ",c(o.end)]}),(0,s.jsx)("span",{className:"block text-xs text-muted-foreground ml-2",children:o.included?r("ResultsDisplay.inclusiveLastDayLabel",{defaultValue:"Inclusive of last day"}):r("ResultsDisplay.exclusiveLastDayLabel",{defaultValue:"Exclusive of last day"})}),(0,s.jsxs)("span",{className:"font-medium text-foreground",children:[r("ResultsDisplay.totalDays"),":"]}),(0,s.jsx)("span",{children:o.days})]})]}),(0,s.jsxs)("section",{className:"bg-muted/40 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-base text-foreground mb-3",children:r("ResultsDisplay.proportionCalculation")}),(0,s.jsx)("div",{className:"space-y-1",children:i.map(e=>(0,s.jsxs)("div",{className:"flex flex-wrap items-baseline gap-x-2 text-muted-foreground",children:[(0,s.jsxs)("span",{className:"font-medium text-foreground shrink-0",children:[e.year,":"]}),(0,s.jsxs)("span",{children:[e.days," ",r("ResultsDisplay.daysLabel")," / ",o.days," ",r("ResultsDisplay.totalDays")]}),(0,s.jsx)("span",{className:"block sm:inline",children:"="}),(0,s.jsx)("span",{className:"block sm:inline font-medium text-foreground",children:e.proportion.toFixed(6)})]},e.year))})]}),(0,s.jsxs)("section",{className:"bg-muted/40 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-semibold text-base text-foreground mb-3",children:r("ResultsDisplay.splitCalculation")}),(0,s.jsx)("div",{className:"space-y-6",children:d.map((e,t)=>(0,s.jsxs)("div",{className:"rounded-md border bg-background p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"font-medium text-foreground mb-1",children:[r("ResultsDisplay.inputAmountLabel")," #",t+1,": ",u(e.originalAmount)]}),(0,s.jsx)("div",{className:"space-y-2",children:e.yearSplits.map(t=>{var a;return(0,s.jsxs)("div",{className:"pl-2 text-xs space-y-0.5",children:[(0,s.jsxs)("div",{className:"font-medium shrink-0 text-foreground",children:[t.year,":"]}),(0,s.jsxs)("div",{className:"text-muted-foreground ml-2",children:[(0,s.jsxs)("span",{children:[u(e.originalAmount)," * ",null==(a=i.find(e=>e.year===t.year))?void 0:a.proportion.toFixed(6)]}),(0,s.jsxs)("span",{className:"block sm:inline",children:[" = ",t.rawSplit.toFixed(6)]})]}),(0,s.jsxs)("div",{className:"ml-2 flex items-center gap-x-2",children:[(0,s.jsx)("span",{children:"→"}),(0,s.jsxs)("span",{className:"font-medium text-foreground",children:[r("ResultsDisplay.roundedLabel"),": ",u(t.roundedSplit)]}),0!==t.adjustment&&(0,s.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",r("ResultsDisplay.adjustmentLabel"),": ",u(t.adjustment),")"]})]})]},t.year)})}),(0,s.jsxs)("div",{className:"border-t pt-2 mt-2 space-y-1 text-xs",children:[(0,s.jsxs)("p",{children:[(0,s.jsxs)("span",{className:"font-medium text-foreground",children:[r("ResultsDisplay.discrepancyLabel"),":"]}),(0,s.jsxs)("span",{className:Math.abs(e.discrepancy)>.001?"text-amber-600 dark:text-amber-500":"",children:[" ",u(e.discrepancy)]}),e.adjustmentAppliedToYear&&(0,s.jsxs)("span",{className:"text-muted-foreground",children:["(",r("ResultsDisplay.adjustedInYearLabel")," ",e.adjustmentAppliedToYear,")"]})]}),(0,s.jsxs)("p",{className:"font-medium text-foreground",children:[r("ResultsDisplay.finalSumLabel"),": ",u(e.finalSum)]})]})]},t))})]})]})};function e4(e){let{results:t,inputData:a}=e,{settings:r}=(0,eQ.t)(),{t:l,i18n:n}=(0,_.Bd)(),o=n.language,{totalDays:i,originalTotalAmount:d,adjustedTotalAmount:c,resultsPerAmount:u,aggregatedSplits:m,calculationSteps:x}=t,p=e=>{var t;return e0((t=r.roundingPrecision)&&!(t<=0)?Math.round(e/t)*t:e,o,r)},g=e=>null==e||isNaN(e)?"":new Intl.NumberFormat(o,{minimumFractionDigits:2,maximumFractionDigits:2}).format(100*e)+"%",f=e=>(0,O.GP)(e,"yyyy-MM-dd"),v=e=>e1((0,O.GP)(e,"yyyy-MM-dd"),o),b=Math.abs(d-c)>r.roundingPrecision/2+1e-5,j=[l("ResultsDisplay.yearHeader"),l("ResultsDisplay.daysHeader"),l("ResultsDisplay.proportionHeader"),l("ResultsDisplay.amountHeader")],y=m.map(e=>[e.year,e.daysInYear,g(e.proportion),p(e.totalSplitAmount)]),N=[l("ResultsDisplay.totalHeader"),i,g(1),p(c)],w=m.map(e=>e.year),D=[l("ResultsDisplay.yearHeader")];a.amounts.forEach((e,t)=>{D.push("".concat(l("ResultsDisplay.amountHeader")," #").concat(t+1))}),D.push(l("ResultsDisplay.yearTotalHeader"));let S=w.map(e=>{let t=[e],a=0;return u.forEach(s=>{var r;let l=(null==(r=s.splits[e])?void 0:r.splitAmount)||0;t.push(p(l)),a+=l}),t.push(p(a)),t}),k=[l("ResultsDisplay.totalHeader")];return u.forEach(e=>{k.push(p(e.adjustedTotalAmount))}),k.push(p(c)),(0,s.jsxs)(eM,{className:"w-full max-w-3xl",children:[(0,s.jsxs)(eO,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:l("ResultsDisplay.aggregatedTitle")}),(0,s.jsxs)("div",{className:"block md:hidden space-y-3",children:[m.map(e=>(0,s.jsxs)("div",{className:"border rounded-md p-3 text-sm bg-muted/20",children:[(0,s.jsx)("div",{className:"font-semibold text-base mb-1",children:e.year}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 gap-y-0.5",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.daysHeader"),":"]}),(0,s.jsx)("span",{className:"text-right",children:e.daysInYear}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.proportionHeader"),":"]}),(0,s.jsx)("span",{className:"text-right",children:g(e.proportion)}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.amountHeader"),":"]}),(0,s.jsx)("span",{className:"text-right font-medium",children:p(e.totalSplitAmount)})]})]},e.year)),(0,s.jsx)("div",{className:"border-t pt-3 mt-3 text-sm",children:(0,s.jsxs)("div",{className:"border rounded-md p-3 bg-muted/20 font-semibold",children:[(0,s.jsx)("div",{className:"font-semibold text-base mb-1",children:l("ResultsDisplay.totalHeader")}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 gap-y-0.5",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.daysHeader"),":"]}),(0,s.jsx)("span",{className:"text-right",children:i}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.proportionHeader"),":"]}),(0,s.jsx)("span",{className:"text-right",children:g(1)}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.amountHeader"),":"]}),(0,s.jsx)("span",{className:"text-right",children:p(c)})]})]})})]}),(0,s.jsx)("div",{className:"hidden md:block overflow-x-auto relative border rounded-md",children:(0,s.jsxs)(eG,{children:[(0,s.jsx)(eW,{children:(0,s.jsx)(eU,{children:j.map((e,t)=>(0,s.jsx)(eJ,{className:t>0?"text-right":"text-left",children:e},e))})}),(0,s.jsx)(eY,{children:y.map((e,t)=>(0,s.jsx)(eU,{children:e.map((e,t)=>(0,s.jsx)(eZ,{className:t>0?"text-right":"text-left",children:e},t))},t))}),(0,s.jsx)(eq,{children:(0,s.jsx)(eU,{children:N.map((e,t)=>(0,s.jsx)(eZ,{className:"font-semibold ".concat(t>0?"text-right":""),children:e},t))})})]})}),b&&(0,s.jsx)("p",{className:"text-xs text-amber-600 dark:text-amber-500 mt-1",children:l("ResultsDisplay.roundingNote")})]}),u&&u.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:l("ResultsDisplay.detailedTitle")}),(0,s.jsxs)("div",{className:"block md:hidden space-y-3",children:[w.map(e=>{let t=0;return u.forEach(a=>{var s;t+=(null==(s=a.splits[e])?void 0:s.splitAmount)||0}),(0,s.jsxs)("div",{className:"border rounded-md p-3 text-sm bg-muted/20",children:[(0,s.jsx)("div",{className:"font-semibold text-base mb-1",children:e}),(0,s.jsxs)("div",{className:"space-y-0.5",children:[u.map((t,a)=>{var r;let n=(null==(r=t.splits[e])?void 0:r.splitAmount)||0;return(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:["".concat(l("ResultsDisplay.amountHeader")," #").concat(a+1),":"]}),(0,s.jsx)("span",{className:"text-right",children:p(n)})]},a)}),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 border-t mt-1 pt-1 font-medium",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:[l("ResultsDisplay.yearTotalHeader"),":"]}),(0,s.jsx)("span",{className:"text-right",children:p(t)})]})]})]},e)}),(0,s.jsxs)("div",{className:"border-t pt-3 mt-3 text-sm font-semibold",children:[(0,s.jsx)("div",{className:"mb-1",children:l("ResultsDisplay.totalHeader")}),(0,s.jsxs)("div",{className:"space-y-0.5",children:[u.map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:["".concat(l("ResultsDisplay.amountHeader")," #").concat(t+1),":"]}),(0,s.jsx)("span",{className:"text-right",children:p(e.adjustedTotalAmount)})]},t)),(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr] gap-x-2 border-t mt-1 pt-1",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Grand Total:"}),(0,s.jsx)("span",{className:"text-right",children:p(c)})]})]})]})]}),(0,s.jsx)("div",{className:"hidden md:block overflow-x-auto relative border rounded-md",children:(0,s.jsxs)(eG,{children:[(0,s.jsx)(eW,{children:(0,s.jsx)(eU,{children:D.map((e,t)=>(0,s.jsx)(eJ,{className:t>0?"text-right":"text-left",children:e},e))})}),(0,s.jsx)(eY,{children:S.map((e,t)=>(0,s.jsx)(eU,{children:e.map((e,t)=>(0,s.jsx)(eZ,{className:t>0?"text-right":"text-left",children:e},t))},t))}),(0,s.jsx)(eq,{children:(0,s.jsx)(eU,{children:k.map((e,t)=>(0,s.jsx)(eZ,{className:"font-semibold ".concat(t>0?"text-right":""),children:e},t))})})]})})]}),x&&(0,s.jsx)(ez,{type:"single",collapsible:!0,className:"w-full",children:(0,s.jsxs)(eL,{value:"item-1",children:[(0,s.jsx)(eV,{children:l("ResultsDisplay.calculationStepsTitle")}),(0,s.jsx)(eB,{children:(0,s.jsx)(e2,{steps:x,settings:r})})]})})]}),(0,s.jsxs)(eH,{className:"flex flex-col sm:flex-row justify-end gap-2",children:[(0,s.jsxs)(h,{variant:"outline",onClick:()=>{let e=eE.Wp.book_new(),t=a.amounts.map(e=>p(e)).join(", "),s=[[l("ResultsDisplay.inputSummary",{defaultValue:"Input Summary"})],[],[l("InvoiceForm.startDateLabel"),v(a.startDate)],[l("InvoiceForm.endDateLabel"),v(a.endDate)],[l("InvoiceForm.includeEndDateLabel"),a.includeEndDate?l("ResultsDisplay.yesLabel",{defaultValue:"Yes"}):l("ResultsDisplay.noLabel",{defaultValue:"No"})],[l("ResultsDisplay.totalDurationLabel",{defaultValue:"Total Duration (days)"}),i],[l("InvoiceForm.amountsLabel"),t],[l("ResultsDisplay.originalTotalAmountLabel",{defaultValue:"Original Total Amount"}),p(d)]],r=eE.Wp.aoa_to_sheet(s);r["!cols"]=[{wch:25},{wch:20}],eE.Wp.book_append_sheet(e,r,l("ResultsDisplay.inputSummarySheetName",{defaultValue:"Input Summary"}));let n=[[l("ResultsDisplay.aggregatedTitle")],[],j,...y,[],N],o=eE.Wp.aoa_to_sheet(n);o["!cols"]=[{wch:10},{wch:10},{wch:15},{wch:20}],eE.Wp.book_append_sheet(e,o,l("ResultsDisplay.aggregatedSheetName",{defaultValue:"Aggregated Results"}));let c=[[l("ResultsDisplay.detailedTitle")],[],D,...S,[],k],u=eE.Wp.aoa_to_sheet(c),m=[{wch:10},...a.amounts.map(()=>({wch:15})),{wch:15}];u["!cols"]=m,eE.Wp.book_append_sheet(e,u,l("ResultsDisplay.detailedSheetName",{defaultValue:"Detailed Breakdown"})),eE._h(e,"invoice_split_".concat(f(new Date),".xlsx"))},className:"w-full sm:w-auto",children:[(0,s.jsx)(eK.A,{className:"mr-2 h-4 w-4"}),l("ResultsDisplay.exportExcelButton")]}),(0,s.jsxs)(h,{variant:"outline",onClick:()=>{var e,t;let s=new e$.Ay,r=l("ResultsDisplay.pdfTitle",{defaultValue:"Invoice Split Calculation"}),n="".concat(l("ResultsDisplay.periodLabel")," ").concat(v(a.startDate)," to ").concat(v(a.endDate)," (").concat(a.includeEndDate?l("ResultsDisplay.inclusiveLabel"):l("ResultsDisplay.exclusiveLabel"),", ").concat(i," ").concat(l("ResultsDisplay.daysLabel"),")"),o="".concat(l("ResultsDisplay.originalTotalLabel")," ").concat(p(d));s.setFontSize(16),s.text(r,14,20),s.setFontSize(10),s.text(n,14,26),s.text(o,14,30),s.setFontSize(12),s.text(l("ResultsDisplay.aggregatedTitle"),14,40),(0,eX.Ay)(s,{startY:42,head:[j],body:y,foot:[N],theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},footStyles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"},styles:{fontSize:9,cellPadding:1.5},columnStyles:{3:{halign:"right"}}});let c=(null!=(t=null==(e=s.lastAutoTable)?void 0:e.finalY)?t:40)+10;s.setFontSize(12),s.text(l("ResultsDisplay.detailedTitle"),14,c),(0,eX.Ay)(s,{startY:c+2,head:[D],body:S,foot:[k],theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},footStyles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"},styles:{fontSize:8,cellPadding:1.5},columnStyles:{...D.reduce((e,t,a)=>(a>0&&(e[a]={halign:"right"}),e),{})}}),s.save("invoice_split_".concat(f(new Date),".pdf"))},className:"w-full sm:w-auto",children:[(0,s.jsx)(eK.A,{className:"mr-2 h-4 w-4"}),l("ResultsDisplay.exportPdfButton")]})]})]})}var e5=a(76981),e3=a(5196);function e6(e){let{className:t,...a}=e;return(0,s.jsx)(e5.bL,{"data-slot":"checkbox",className:i("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t),...a,children:(0,s.jsx)(e5.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(e3.A,{className:"size-3.5"})})})}function e8(e){var t,a;let{isOpen:l,onOpenChange:n}=e,{settings:o,saveSettings:i}=(0,eQ.t)(),{t:d,i18n:c}=(0,_.Bd)(),[u,m]=(0,r.useState)({...o,locale:c.language});return(0,r.useEffect)(()=>{m({...o,locale:c.language})},[o,c.language]),(0,s.jsx)(b,{open:l,onOpenChange:n,children:(0,s.jsxs)(w,{className:"sm:max-w-[360px] p-5",children:[(0,s.jsxs)(D,{className:"pb-2",children:[(0,s.jsx)(k,{className:"text-center",children:d("SettingsModal.title")}),(0,s.jsx)(C,{className:"text-center",children:d("Accessibility.settingsDescription")})]}),(0,s.jsxs)("div",{className:"space-y-5 py-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-32 text-right pr-3",children:(0,s.jsx)(A,{htmlFor:"thousandsSeparator",className:"inline-block",children:d("SettingsModal.useApostropheSeparatorLabel")})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(e6,{id:"thousandsSeparator",checked:"apostrophe"===u.thousandsSeparator,onCheckedChange:e=>{let t=e?"apostrophe":"comma-period";m(e=>({...e,thousandsSeparator:t}))}}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:d("SettingsModal.useApostropheSeparatorDescription")})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-32 text-right pr-3",children:(0,s.jsx)(A,{htmlFor:"decimalPlaces",className:"inline-block",children:d("SettingsModal.decimalPlacesLabel")})}),(0,s.jsx)(eh,{id:"decimalPlaces",type:"number",min:"0",max:"6",value:String(null!=(t=u.decimalPlaces)?t:""),onChange:e=>{let t=e.target.value;if(""===t||/^\d*$/.test(t)){let e=parseInt(t,10);""===t||!isNaN(e)&&e>=0&&e<=6?m(a=>({...a,decimalPlaces:""===t?2:e})):!isNaN(e)&&e>6&&m(e=>({...e,decimalPlaces:6}))}},className:"w-20 h-8 text-sm"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-32 text-right pr-3",children:(0,s.jsx)(A,{htmlFor:"roundingPrecision",className:"inline-block",children:d("SettingsModal.roundingPrecisionLabel")})}),(0,s.jsx)(eh,{id:"roundingPrecision",type:"number",step:"any",min:"0",value:String(null!=(a=u.roundingPrecision)?a:""),onChange:e=>{let t=e.target.value;if(""===t||/^\d*\.?\d*$/.test(t)){let e=parseFloat(t);m(a=>({...a,roundingPrecision:""===t||isNaN(e)?.01:e}))}},className:"w-20 h-8 text-sm"})]})]}),(0,s.jsxs)(S,{className:"pt-3 space-x-2",children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsx)(h,{type:"button",variant:"outline",className:"flex-1",children:d("SettingsModal.closeButton")})}),(0,s.jsx)(h,{type:"button",onClick:()=>{var e;let t,a,s=u.decimalPlaces;if("string"==typeof s&&""!==s){let e=parseInt(s,10);t=isNaN(e)||e<0||e>6?o.decimalPlaces:e}else t="number"==typeof s?s<0||s>6?o.decimalPlaces:s:o.decimalPlaces;let r=u.roundingPrecision;if("string"==typeof r&&""!==r){let e=parseFloat(r);a=isNaN(e)||e<=0?o.roundingPrecision:e}else a="number"==typeof r?r<=0?o.roundingPrecision:r:o.roundingPrecision;let l={decimalPlaces:t,roundingPrecision:a,thousandsSeparator:null!=(e=u.thousandsSeparator)?e:o.thousandsSeparator},d=u.locale;d&&c.language!==d&&c.changeLanguage(d),i(l),n(!1)},className:"flex-1",children:d("SettingsModal.saveButton")})]})]})})}var e9=a(41684),e7=a(62098),te=a(93509),tt=a(51362);function ta(){let{setTheme:e}=(0,tt.D)(),{t}=(0,_.Bd)(),[a,l]=r.useState(!1);return(r.useEffect(()=>{l(!0)},[]),a)?(0,s.jsxs)(eS,{children:[(0,s.jsx)(ek,{asChild:!0,children:(0,s.jsxs)(h,{variant:"ghost",size:"icon","aria-label":t("ThemeToggle.toggleTheme"),children:[(0,s.jsx)(e7.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(te.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:t("ThemeToggle.toggleTheme")})]})}),(0,s.jsxs)(eC,{align:"end",children:[(0,s.jsx)(eF,{onClick:()=>e("light"),children:t("ThemeToggle.light")}),(0,s.jsx)(eF,{onClick:()=>e("dark"),children:t("ThemeToggle.dark")}),(0,s.jsx)(eF,{onClick:()=>e("system"),children:t("ThemeToggle.system")})]})]}):(0,s.jsxs)(h,{variant:"ghost",size:"icon",disabled:!0,"aria-label":"Toggle theme",children:[(0,s.jsx)(e7.A,{className:"h-[1.2rem] w-[1.2rem]"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}function ts(e){let{pageTitle:t}=e,{t:a,i18n:l}=(0,_.Bd)(),[n,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)(t),[x,p]=(0,r.useState)(null),[f,v]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1),[w,D]=(0,r.useState)(!1),[S,k]=(0,r.useState)(""),[C,F]=(0,r.useState)(null),[A,R]=(0,r.useState)(!1),P="G-9H2KTHX5YK",z="siempiBillSplitterConsent",[L,V]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(!0),d(a("InvoiceForm.title")),V("true"===g.A.get(z))},[a]);let B=async e=>{try{let t=await fetch(e);if(!t.ok&&e.includes(".de.md")){let a=e.replace(".de.md",".md");console.log("Localized version not found, trying English version: ".concat(a)),t=await fetch(a)}if(!t.ok)throw Error("Failed to fetch ".concat(e,": ").concat(t.statusText));return await t.text()}catch(e){return console.error("Error fetching markdown:",e),a("Errors.unexpectedError")}},M=async e=>{R(!0),D(!0);let t="",s="",r="de"===(l.language||"en")?".de":"";"privacy"===e?(t=a("General.privacyPolicy"),s="/privacy-policy".concat(r,".md")):(t=a("General.termsOfUse"),s="/terms-of-use".concat(r,".md")),k(t),F(await B(s)),R(!1)};return(0,s.jsxs)(s.Fragment,{children:[L&&P&&(0,s.jsx)(I.GoogleAnalytics,{gaId:P}),(0,s.jsxs)("header",{className:"w-full max-w-4xl flex justify-end items-center space-x-2 mb-4 px-4",children:[(0,s.jsx)(eR,{}),(0,s.jsx)(h,{variant:"ghost",size:"icon",onClick:()=>N(!0),"aria-label":n?a("SettingsModal.title"):"Number Formatting",children:(0,s.jsx)(T.A,{className:"h-5 w-5"})}),(0,s.jsx)(ta,{})]}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl grow",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:i}),(0,s.jsxs)("div",{className:"text-center text-muted-foreground mb-8 max-w-xl mx-auto space-y-2",children:[(0,s.jsx)("p",{children:n?a("InvoiceForm.description_p1"):"Loading description..."}),(0,s.jsx)("p",{children:n?a("InvoiceForm.description_p2"):""})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(ew,{onCalculate:(e,t,s)=>{p(t),s&&s.includes("At least one amount is required")?v(a("Errors.calculationErrorTitle")+": "+a("InvoiceForm.errorAmountRequired")):s&&s.includes("Start date must be before")?v(a("Errors.calculationErrorTitle")+": "+a("InvoiceForm.errorEndDateBeforeStart")):v(s?a("Errors.calculationErrorTitle")+": "+a("Errors.unexpectedError"):null),t&&!s?j(e):j(null)}})}),(0,s.jsxs)("div",{id:"results-section",className:"mt-12 w-full flex justify-center",children:[n&&f&&(0,s.jsxs)(c,{variant:"destructive",className:"max-w-2xl",children:[(0,s.jsx)(e9.A,{className:"h-4 w-4"}),(0,s.jsx)(u,{children:a("Errors.calculationErrorTitle")}),(0,s.jsx)(m,{children:f})]}),n&&x&&b&&!f&&(0,s.jsx)(e4,{results:x,inputData:b})]})]}),n&&(0,s.jsx)(e8,{isOpen:y,onOpenChange:N}),n&&(0,s.jsx)(e_,{isOpen:w,onOpenChange:D,title:S,content:A?a("FeedbackDialog.messagePlaceholder"):C}),(0,s.jsx)("footer",{className:"w-full max-w-4xl mt-auto px-4 py-6 border-t text-sm text-muted-foreground",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-y-2 gap-x-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center text-center sm:text-left order-2 sm:order-1 grow gap-x-3 gap-y-1",children:[(0,s.jsx)("p",{className:"shrink-0",children:n?a("General.allRightsReserved",{year:new Date().getFullYear()}):(0,s.jsxs)(s.Fragment,{children:["\xa9 ",new Date().getFullYear()]})}),(0,s.jsxs)("div",{className:"flex gap-x-3 justify-center sm:justify-start",children:[(0,s.jsx)(h,{variant:"link",onClick:()=>M("privacy"),className:"h-auto p-0 text-muted-foreground hover:text-foreground whitespace-nowrap",children:n?a("General.privacyPolicy"):"Privacy Policy"}),(0,s.jsx)(h,{variant:"link",onClick:()=>M("terms"),className:"h-auto p-0 text-muted-foreground hover:text-foreground whitespace-nowrap",children:n?a("General.termsOfUse"):"Terms of Use"})]})]}),(0,s.jsx)("div",{className:"order-1 sm:order-2 shrink-0",children:n?(0,s.jsx)(E,{}):(0,s.jsx)("div",{className:"h-9 w-[130px]"})})]})}),(0,s.jsx)(function(e){let{onAccept:t,onDecline:a,consentCookieName:l,onOpenPrivacy:n}=e,{t:o}=(0,_.Bd)(),[i,d]=(0,r.useState)(!1),c=(0,r.useRef)(null);return((0,r.useEffect)(()=>{let e=g.A.get(l);"true"!==e&&"false"!==e&&d(!0)},[l]),(0,r.useEffect)(()=>{if(!i)return;let e=c.current;if(!e)return;let t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');function a(e){if("Tab"!==e.key)return;let a=t[0],s=t[t.length-1];e.shiftKey?document.activeElement===a&&(e.preventDefault(),s.focus()):document.activeElement===s&&(e.preventDefault(),a.focus())}return t.length&&t[0].focus(),e.addEventListener("keydown",a),()=>e.removeEventListener("keydown",a)},[i]),i)?(0,s.jsx)("div",{className:"fixed left-0 bottom-6 w-screen flex justify-center z-[2000] pointer-events-none md:left-auto md:right-6 md:w-auto md:justify-end",children:(0,s.jsx)("div",{className:"pointer-events-auto bg-muted text-foreground rounded-2xl shadow-2xl p-6 flex flex-col items-center space-y-6 outline-none border max-w-xs sm:max-w-sm w-full mx-4 md:mx-0",children:(0,s.jsxs)("div",{ref:c,role:"dialog","aria-modal":"true",tabIndex:-1,className:"w-full flex flex-col items-center space-y-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-center",children:o("ConsentBanner.headline",{defaultValue:"We use cookies"})}),(0,s.jsx)("p",{className:"text-sm text-center",children:o("ConsentBanner.message")}),(0,s.jsx)("button",{type:"button",onClick:n,className:"text-sm underline text-foreground hover:text-primary cursor-pointer bg-transparent border-0 p-0 focus:outline-none",children:o("ConsentBanner.learnMoreButton")}),(0,s.jsxs)("div",{className:"flex space-x-4 justify-center w-full mt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{g.A.set(l,"true",{expires:150}),d(!1),t()},autoFocus:!0,className:"bg-black text-white border border-border rounded-md px-5 py-2 text-base font-medium cursor-pointer hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary transition-colors",children:o("ConsentBanner.acceptButton")}),(0,s.jsx)("button",{type:"button",onClick:()=>{g.A.set(l,"false",{expires:150}),d(!1),a()},className:"bg-transparent text-secondary-foreground text-base font-medium px-5 py-2 rounded-md cursor-pointer hover:underline focus:outline-none focus:ring-2 focus:ring-primary transition-colors",children:o("ConsentBanner.declineButton")})]})]})})}):null},{onAccept:()=>{V(!0)},onDecline:()=>{V(!1)},consentCookieName:z,onOpenPrivacy:()=>M("privacy")})]})}},83686:()=>{},89568:(e,t,a)=>{Promise.resolve().then(a.bind(a,74057))}},e=>{var t=t=>e(e.s=t);e.O(0,[524,930,214,466,441,684,358],()=>t(89568)),_N_E=e.O()}]);