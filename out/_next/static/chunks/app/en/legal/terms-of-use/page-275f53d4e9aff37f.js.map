{"version":3,"file":"static/chunks/app/en/legal/terms-of-use/page-275f53d4e9aff37f.js","mappings":"gFAAA,uCAA2L,4HCsB3L,IAAMA,EAAoB,CAAC,cAAEC,CAAY,CAA0B,GAE/D,UAACC,UAAAA,CAAQC,UAAU,uDACjB,UAACC,MAAAA,CAAID,UAAU,qCACb,UAACE,EAAAA,EAAaA,CAAAA,CACZC,cAAe,CAACC,EAAAA,CAASA,CAAC,CAC1BC,WAAY,CACVC,GAAI,CAAC,CAAE,GAAGC,EAAO,GAAK,UAACD,KAAAA,CAAGN,UAAU,gHAAiH,GAAGO,CAAK,GAC7JC,GAAI,CAAC,CAAE,GAAGD,EAAO,GAAK,UAACC,KAAAA,CAAGR,UAAU,mHAAoH,GAAGO,CAAK,GAChKE,GAAI,CAAC,CAAE,GAAGF,EAAO,GAAK,UAACE,KAAAA,CAAGT,UAAU,mHAAoH,GAAGO,CAAK,GAChKG,GAAI,CAAC,CAAE,GAAGH,EAAO,GAAK,UAACG,KAAAA,CAAGV,UAAU,qHAAsH,GAAGO,CAAK,GAClKI,EAAG,CAAC,CAAE,GAAGJ,EAAO,GAAK,UAACI,IAAAA,CAAEX,UAAU,qDAAsD,GAAGO,CAAK,GAChGK,GAAI,CAAC,CAAE,GAAGL,EAAO,GAAK,UAACK,KAAAA,CAAGZ,UAAU,oEAAqE,GAAGO,CAAK,GACjHM,GAAI,CAAC,CAAE,GAAGN,EAAO,GAAK,UAACM,KAAAA,CAAGb,UAAU,uEAAwE,GAAGO,CAAK,GACpHO,GAAI,CAAC,CAAE,GAAGP,EAAO,GAAK,UAACO,KAAAA,CAAGd,UAAU,OAAQ,GAAGO,CAAK,GACpDQ,EAAG,CAAC,CAAE,GAAGR,EAAO,GAAK,UAACQ,IAAAA,CAAEf,UAAU,+BAAgC,GAAGO,CAAK,GAC1ES,OAAQ,CAAC,CAAE,GAAGT,EAAO,GAAK,UAACS,SAAAA,CAAOhB,UAAU,gCAAiC,GAAGO,CAAK,EACvF,WAECT,QAQI,SAASmB,EAAiB,gBAAEC,CAAc,aAAEC,CAAW,CAAyB,EAC7F,GAAM,MAAEC,CAAI,GAAEC,CAAC,CAAE,CAAGC,CAAAA,EAAAA,EAAAA,EAAAA,CAAcA,GAC5BC,EAAWC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,GACtB,CAAC1B,EAAc2B,EAAgB,CAAGC,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAASR,GACnD,CAACS,EAAYC,EAAc,CAAGF,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAACP,GACvC,CAACU,EAAWC,EAAa,CAAGJ,CAAAA,EAAAA,EAAAA,QAAAA,CAAQA,CAAC,IAGrCK,EAAYC,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,MAAOC,IACnC,IAAIC,EAAmB,GACvB,GAAI,CACF,IAAMC,EAAW,CAAC,aAAa,EAAW,OAATF,EAAgB,MAAQ,GAAG,GAAG,CAAC,CAC1DG,EAAW,MAAMC,MAAMF,GAG7B,GAAI,CAACC,EAASE,EAAE,CACd,CADgB,KACV,MAAU,CAAC,0BAA0B,EAAEH,EAAAA,CAAU,EAKzDD,EAAmBK,CADH,MAAMH,EAASI,IAAI,IAEhCC,OAAO,CAAC,UAAW,IACnBA,OAAO,CAAC,uBAAwB,IAChCA,OAAO,CAAC,+BAAgC,IACxCC,IAAI,GAGPjB,EAAgBS,EAClB,CAAE,MAAOS,EAAO,CACdC,QAAQD,KAAK,CAAC,0CAA2CA,GACzDlB,EAAyB,OAATQ,EACZ,iGACA,uDACN,CACF,EAAG,EAAE,EAGCY,EAAiBb,CAAAA,EAAAA,EAAAA,WAAAA,CAAWA,CAAC,IAC5BT,GACgBuB,CAAAA,EAAAA,EAAAA,EADN,CACyBA,CAACvB,IAClBJ,CAFDA,CAGrB,CAACI,EAAUJ,EAAY,EAG1B4B,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACRjB,GAAa,GAGTV,EAAK4B,QAAQ,GAAKrB,GACpBP,EAAK6B,OAD2B,OACb,CAACtB,GAGtBuB,SAASC,KAAK,CAAG9B,EAAE,yBAA2B,iBAGhD,EAAG,CAACM,EAAYP,EAAMC,EAAE,EAGxB0B,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,GAAI,CAAClB,EAAW,OAGhB,IAAMuB,EAAwB,IAE5B,IAAMC,EAAUC,EAAYC,MAAM,EAAEP,UADhBQ,EACwCD,MAAM,CAG9DF,GAA8B,UAAnB,OAAOA,GAAwBI,EAAAA,EAAmBA,CAACC,QAAQ,CAACL,KACzEzB,EAAcyB,GADqE,EAEzEA,GAEd,EAMA,OAHAH,SAASS,gBAAgB,CAAC,kBAAmBP,GAGtC,KACLF,SAASU,mBAAmB,CAAC,kBAAmBR,EAClD,CACF,EAAG,CAACvB,EAAWE,EAAU,EAGzBgB,CAAAA,EAAAA,EAAAA,SAAAA,CAASA,CAAC,KACR,GAAI,CAAClB,EAAW,OAGhB,IAAMgC,EAAUhB,IAGZgB,IAAYlC,IACdC,EAAciC,GACd9B,EAAU8B,CAFgB,EAKtBzC,EAAK4B,QAAQ,GAAKa,GACpBzC,EAAK6B,IADwB,UACV,CAACY,GAG1B,EAAG,CAACtC,EAAUM,EAAWF,EAAYP,EAAMW,EAAWc,EAAe,EAIrE,IAAMiB,EADQ,IAAIC,OACUC,kBAAkB,CAAgB,OAAfrC,EAAsB,QAAU,QAAS,CAAEsC,KAAM,UAAWC,MAAO,OAAQC,IAAK,SAAU,GAGzI,MACE,WAACC,OAAAA,CAAKpE,UAAU,mDACd,WAACC,MAAAA,CAAID,UAAU,8BACb,UAACM,KAAAA,CAAGN,UAAU,4GACXqB,EAAE,wBAAyB,kBAE9B,UAACV,IAAAA,CAAEX,UAAU,8CACV,GAAGqB,EAAE,0BAA2B,mBAAmB,CAAC,EAAEyC,EAAAA,CAAe,MAG1E,UAACjE,EAAAA,CAAkBC,aAAcA,MAGvC","sources":["webpack://_N_E/?0257","webpack://_N_E/./src/app/en/legal/terms-of-use/terms-of-use-client.tsx"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"C:\\\\Users\\\\Mauro\\\\Repos\\\\Siempi\\\\Saas\\\\billingperiodallocator\\\\src\\\\app\\\\en\\\\legal\\\\terms-of-use\\\\terms-of-use-client.tsx\");\n","\"use client\";\r\n\r\nimport { SUPPORTED_LANGUAGES, getLanguageFromPath } from \"@/translations\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\n\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport remarkGfm from \"remark-gfm\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useTranslation } from \"@/translations\";\r\n\r\n// Props for the client component\r\ninterface TermsOfUseClientProps {\r\n  initialContent: string;\r\n  initialLang: string;\r\n}\r\n\r\n// Props for the content display component\r\ninterface TermsOfUseContentProps {\r\n  termsContent: string;\r\n}\r\n\r\n// Content display component\r\nconst TermsOfUseContent = ({ termsContent }: TermsOfUseContentProps) => {\r\n  return (\r\n    <article className=\"prose prose-lg dark:prose-invert max-w-none\">\r\n      <div className=\"custom-markdown-container\">\r\n        <ReactMarkdown\r\n          remarkPlugins={[remarkGfm]}\r\n          components={{\r\n            h1: ({ ...props }) => <h1 className=\"text-2xl font-bold mt-8 mb-4 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\r\n            h2: ({ ...props }) => <h2 className=\"text-xl font-semibold mt-6 mb-3 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\r\n            h3: ({ ...props }) => <h3 className=\"text-lg font-semibold mt-4 mb-2 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\r\n            h4: ({ ...props }) => <h4 className=\"text-base font-semibold mt-3 mb-1 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\r\n            p: ({ ...props }) => <p className=\"text-sm leading-relaxed text-muted-foreground mb-4\" {...props} />,\r\n            ul: ({ ...props }) => <ul className=\"text-sm leading-relaxed text-muted-foreground mb-4 pl-5 list-disc\" {...props} />,\r\n            ol: ({ ...props }) => <ol className=\"text-sm leading-relaxed text-muted-foreground mb-4 pl-5 list-decimal\" {...props} />,\r\n            li: ({ ...props }) => <li className=\"mb-1\" {...props} />,\r\n            a: ({ ...props }) => <a className=\"text-primary hover:underline\" {...props} />,\r\n            strong: ({ ...props }) => <strong className=\"font-semibold text-foreground\" {...props} />,\r\n          }}\r\n        >\r\n          {termsContent}\r\n        </ReactMarkdown>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\n\r\nexport default function TermsOfUseClient({ initialContent, initialLang }: TermsOfUseClientProps) {\r\n  const { i18n, t } = useTranslation();\r\n  const pathname = usePathname();\r\n  const [termsContent, setTermsContent] = useState<string>(initialContent);\r\n  const [langPrefix, setLangPrefix] = useState(initialLang);\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n\r\n  const loadTerms = useCallback(async (lang: string) => {\r\n    let processedContent = '';\r\n    try {\r\n      const filePath = `/terms-of-use${lang === 'de' ? '.de' : ''}.md`;\r\n      const response = await fetch(filePath);\r\n\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to load terms from ${filePath}`);\r\n      }\r\n\r\n\r\n      const content = await response.text();\r\n      processedContent = content\r\n        .replace(/^# .*$/m, '')\r\n        .replace(/^Last updated on.*$/m, '')\r\n        .replace(/^Zuletzt aktualisiert am.*$/m, '')\r\n        .trim();\r\n\r\n\r\n      setTermsContent(processedContent);\r\n    } catch (error) {\r\n      console.error('Error loading terms of use client-side:', error);\r\n      setTermsContent(lang === 'de'\r\n        ? 'Die Nutzungsbedingungen konnten nicht geladen werden. Bitte versuchen Sie es spÃ¤ter erneut.'\r\n        : 'Failed to load terms of use. Please try again later.');\r\n    }\r\n  }, []);\r\n\r\n\r\n  const getUrlLanguage = useCallback(() => {\r\n    if (!pathname) return initialLang;\r\n    const pathLanguage = getLanguageFromPath(pathname);\r\n    return pathLanguage || initialLang;\r\n  }, [pathname, initialLang]);\r\n\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n\r\n\r\n    if (i18n.language !== langPrefix) {\r\n      i18n.changeLanguage(langPrefix);\r\n    }\r\n\r\n    document.title = t(\"Legal.termsOfUseTitle\") + \" | BillSplitter\";\r\n\r\n\r\n  }, [langPrefix, i18n, t]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!isMounted) return;\r\n\r\n\r\n    const handleLanguageChanged = (e: Event) => {\r\n      const customEvent = e as CustomEvent;\r\n      const newLang = customEvent.detail?.language || customEvent.detail;\r\n\r\n\r\n      if (newLang && typeof newLang === 'string' && SUPPORTED_LANGUAGES.includes(newLang)) {\r\n        setLangPrefix(newLang);\r\n        loadTerms(newLang);\r\n      }\r\n    };\r\n\r\n\r\n    document.addEventListener('languageChanged', handleLanguageChanged);\r\n\r\n\r\n    return () => {\r\n      document.removeEventListener('languageChanged', handleLanguageChanged);\r\n    };\r\n  }, [isMounted, loadTerms]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!isMounted) return;\r\n\r\n\r\n    const urlLang = getUrlLanguage();\r\n\r\n\r\n    if (urlLang !== langPrefix) {\r\n      setLangPrefix(urlLang);\r\n      loadTerms(urlLang);\r\n\r\n\r\n      if (i18n.language !== urlLang) {\r\n        i18n.changeLanguage(urlLang);\r\n      }\r\n    }\r\n  }, [pathname, isMounted, langPrefix, i18n, loadTerms, getUrlLanguage]);\r\n\r\n\r\n  const today = new Date();\r\n  const formattedDate = today.toLocaleDateString(langPrefix === 'de' ? 'de-DE' : 'en-US', { year: 'numeric', month: 'long', day: 'numeric' });\r\n\r\n\r\n  return (\r\n    <main className=\"container mx-auto max-w-3xl px-6 py-16\">\r\n      <div className=\"mb-10 text-center\">\r\n        <h1 className=\"text-3xl font-bold bg-gradient-to-r from-[#0284C7] to-[#0284C7]/80 bg-clip-text text-transparent\">\r\n          {t(\"Legal.termsOfUseTitle\", \"Terms of Use\")}\r\n        </h1>\r\n        <p className=\"text-sm text-muted-foreground mt-2\">\r\n          {`${t(\"Legal.lastUpdatedPrefix\", \"Last updated on\")} ${formattedDate}`}\r\n        </p>\r\n      </div>\r\n      <TermsOfUseContent termsContent={termsContent} />\r\n    </main>\r\n  );\r\n} \r\n"],"names":["TermsOfUseContent","termsContent","article","className","div","ReactMarkdown","remarkPlugins","remarkGfm","components","h1","props","h2","h3","h4","p","ul","ol","li","a","strong","TermsOfUseClient","initialContent","initialLang","i18n","t","useTranslation","pathname","usePathname","setTermsContent","useState","langPrefix","setLangPrefix","isMounted","setIsMounted","loadTerms","useCallback","lang","processedContent","filePath","response","fetch","ok","content","text","replace","trim","error","console","getUrlLanguage","getLanguageFromPath","useEffect","language","changeLanguage","document","title","handleLanguageChanged","newLang","customEvent","detail","e","SUPPORTED_LANGUAGES","includes","addEventListener","removeEventListener","urlLang","formattedDate","Date","toLocaleDateString","year","month","day","main"],"sourceRoot":""}