{"version":3,"file":"static/chunks/app/en/legal/terms-of-use/page-33e10bf04a202d87.js","mappings":"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","sources":["webpack://_N_E/?0257","webpack://_N_E/./src/app/en/legal/terms-of-use/terms-of-use-client.tsx"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"C:\\\\Users\\\\Mauro\\\\Repos\\\\Siempi\\\\Saas\\\\billingperiodallocator\\\\src\\\\app\\\\en\\\\legal\\\\terms-of-use\\\\terms-of-use-client.tsx\");\n","\"use client\";\n\nimport { SUPPORTED_LANGUAGES, getLanguageFromPath } from \"@/translations\";\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { usePathname } from \"next/navigation\";\nimport { useTranslation } from \"@/translations\";\n\n// Props for the client component\ninterface TermsOfUseClientProps {\n  initialContent: string;\n  initialLang: string;\n}\n\n// Props for the content display component\ninterface TermsOfUseContentProps {\n  termsContent: string;\n}\n\n// Content display component\nconst TermsOfUseContent = ({ termsContent }: TermsOfUseContentProps) => {\n  return (\n    <article className=\"prose prose-lg dark:prose-invert max-w-none\">\n      <div className=\"custom-markdown-container\">\n        <ReactMarkdown\n          remarkPlugins={[remarkGfm]}\n          components={{\n            h1: ({ ...props }) => <h1 className=\"text-2xl font-bold mt-8 mb-4 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\n            h2: ({ ...props }) => <h2 className=\"text-xl font-semibold mt-6 mb-3 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\n            h3: ({ ...props }) => <h3 className=\"text-lg font-semibold mt-4 mb-2 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\n            h4: ({ ...props }) => <h4 className=\"text-base font-semibold mt-3 mb-1 bg-gradient-to-r from-[#0284C7]/90 to-[#0284C7]/70 bg-clip-text text-transparent\" {...props} />,\n            p: ({ ...props }) => <p className=\"text-sm leading-relaxed text-muted-foreground mb-4\" {...props} />,\n            ul: ({ ...props }) => <ul className=\"text-sm leading-relaxed text-muted-foreground mb-4 pl-5 list-disc\" {...props} />,\n            ol: ({ ...props }) => <ol className=\"text-sm leading-relaxed text-muted-foreground mb-4 pl-5 list-decimal\" {...props} />,\n            li: ({ ...props }) => <li className=\"mb-1\" {...props} />,\n            a: ({ ...props }) => <a className=\"text-primary hover:underline\" {...props} />,\n            strong: ({ ...props }) => <strong className=\"font-semibold text-foreground\" {...props} />,\n          }}\n        >\n          {termsContent}\n        </ReactMarkdown>\n      </div>\n    </article>\n  );\n};\n\n\nexport default function TermsOfUseClient({ initialContent, initialLang }: TermsOfUseClientProps) {\n  const { i18n, t } = useTranslation();\n  const pathname = usePathname();\n  const [termsContent, setTermsContent] = useState<string>(initialContent);\n  const [langPrefix, setLangPrefix] = useState(initialLang);\n  const [isMounted, setIsMounted] = useState(false);\n\n\n  const loadTerms = useCallback(async (lang: string) => {\n    let processedContent = '';\n    try {\n      const filePath = `/terms-of-use${lang === 'de' ? '.de' : ''}.md`;\n      const response = await fetch(filePath);\n\n\n      if (!response.ok) {\n        throw new Error(`Failed to load terms from ${filePath}`);\n      }\n\n\n      const content = await response.text();\n      processedContent = content\n        .replace(/^# .*$/m, '')\n        .replace(/^Last updated on.*$/m, '')\n        .replace(/^Zuletzt aktualisiert am.*$/m, '')\n        .trim();\n\n\n      setTermsContent(processedContent);\n    } catch (error) {\n      console.error('Error loading terms of use client-side:', error);\n      setTermsContent(lang === 'de'\n        ? 'Die Nutzungsbedingungen konnten nicht geladen werden. Bitte versuchen Sie es spÃ¤ter erneut.'\n        : 'Failed to load terms of use. Please try again later.');\n    }\n  }, []);\n\n\n  const getUrlLanguage = useCallback(() => {\n    if (!pathname) return initialLang;\n    const pathLanguage = getLanguageFromPath(pathname);\n    return pathLanguage || initialLang;\n  }, [pathname, initialLang]);\n\n\n  useEffect(() => {\n    setIsMounted(true);\n\n\n    if (i18n.language !== langPrefix) {\n      i18n.changeLanguage(langPrefix);\n    }\n\n\n    let script = document.querySelector<HTMLScriptElement>('script[src=\"https://app.privacybee.io/widget.js\"]');\n    if (!script) {\n      script = document.createElement('script');\n      script.src = \"https://app.privacybee.io/widget.js\";\n      script.defer = true;\n      document.head.appendChild(script);\n    }\n\n\n    document.title = t(\"Legal.termsOfUseTitle\") + \" | BillSplitter\";\n\n\n  }, [langPrefix, i18n, t]);\n\n\n  useEffect(() => {\n    if (!isMounted) return;\n\n\n    const handleLanguageChanged = (e: Event) => {\n      const customEvent = e as CustomEvent;\n      const newLang = customEvent.detail?.language || customEvent.detail;\n\n\n      if (newLang && typeof newLang === 'string' && SUPPORTED_LANGUAGES.includes(newLang)) {\n        setLangPrefix(newLang);\n        loadTerms(newLang);\n      }\n    };\n\n\n    document.addEventListener('languageChanged', handleLanguageChanged);\n\n\n    return () => {\n      document.removeEventListener('languageChanged', handleLanguageChanged);\n    };\n  }, [isMounted, loadTerms]);\n\n\n  useEffect(() => {\n    if (!isMounted) return;\n\n\n    const urlLang = getUrlLanguage();\n\n\n    if (urlLang !== langPrefix) {\n      setLangPrefix(urlLang);\n      loadTerms(urlLang);\n\n\n      if (i18n.language !== urlLang) {\n        i18n.changeLanguage(urlLang);\n      }\n    }\n  }, [pathname, isMounted, langPrefix, i18n, loadTerms, getUrlLanguage]);\n\n\n  const today = new Date();\n  const formattedDate = today.toLocaleDateString(langPrefix === 'de' ? 'de-DE' : 'en-US', { year: 'numeric', month: 'long', day: 'numeric' });\n\n\n  return (\n    <main className=\"container mx-auto max-w-3xl px-6 py-16\">\n      <div className=\"mb-10 text-center\">\n        <h1 className=\"text-3xl font-bold bg-gradient-to-r from-[#0284C7] to-[#0284C7]/80 bg-clip-text text-transparent\">\n          {t(\"Legal.termsOfUseTitle\", \"Terms of Use\")}\n        </h1>\n        <p className=\"text-sm text-muted-foreground mt-2\">\n          {`${t(\"Legal.lastUpdatedPrefix\", \"Last updated on\")} ${formattedDate}`}\n        </p>\n      </div>\n      <TermsOfUseContent termsContent={termsContent} />\n    </main>\n  );\n} \n"],"names":["TermsOfUseContent","termsContent","article","className","div","ReactMarkdown","remarkPlugins","remarkGfm","components","h1","props","h2","h3","h4","p","ul","ol","li","a","strong","TermsOfUseClient","initialContent","initialLang","i18n","t","useTranslation","pathname","usePathname","setTermsContent","useState","langPrefix","setLangPrefix","isMounted","setIsMounted","loadTerms","useCallback","lang","processedContent","filePath","response","fetch","ok","content","text","replace","trim","error","console","getUrlLanguage","getLanguageFromPath","useEffect","language","changeLanguage","script","document","querySelector","createElement","src","defer","head","appendChild","title","handleLanguageChanged","customEvent","newLang","detail","SUPPORTED_LANGUAGES","includes","addEventListener","removeEventListener","urlLang","formattedDate","Date","toLocaleDateString","year","month","day","main"],"sourceRoot":""}