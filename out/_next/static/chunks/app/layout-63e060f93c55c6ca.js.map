{"version":3,"file":"static/chunks/app/layout-63e060f93c55c6ca.js","mappings":"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","sources":["webpack://_N_E/./src/context/settings-context.tsx","webpack://_N_E/./src/components/custom-cookie-banner.tsx","webpack://_N_E/./src/components/ui/textarea.tsx","webpack://_N_E/./src/components/feedback-button.tsx","webpack://_N_E/./src/components/footer.tsx","webpack://_N_E/./src/components/head-with-hreflang.tsx","webpack://_N_E/./src/components/ui/dropdown-menu.tsx","webpack://_N_E/./src/components/language-toggle.tsx","webpack://_N_E/./src/components/theme-toggle.tsx","webpack://_N_E/./src/components/header.tsx","webpack://_N_E/./src/components/theme-provider.tsx","webpack://_N_E/./src/components/ui/tooltip.tsx","webpack://_N_E/./src/components/translation-provider.tsx","webpack://_N_E/./src/components/client-layout.tsx","webpack://_N_E/?6163","webpack://_N_E/./src/components/ui/button.tsx","webpack://_N_E/./src/app/globals.css","webpack://_N_E/./src/components/ui/visually-hidden.tsx","webpack://_N_E/./src/components/ui/accessible-icon.tsx","webpack://_N_E/./src/components/ui/dialog.tsx","webpack://_N_E/./src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, {\r\n  ReactNode,\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\n\r\nexport type Locale = \"en\" | \"de\";\r\n\r\nexport type AppSettings = {\r\n  decimalPlaces: number; // 0-6\r\n  roundingPrecision: number; // e.g., 0.01, 0.05, 1\r\n  thousandsSeparator: string; // Values: ',', '.', \"'\", ' '\r\n};\r\n\r\ninterface SettingsContextProps {\r\n  settings: Omit<AppSettings, \"locale\">;\r\n  saveSettings: (newSettings: Partial<Omit<AppSettings, \"locale\">>) => void; // Allow partial updates\r\n}\r\n\r\nconst defaultSettings: Omit<AppSettings, \"locale\"> = {\r\n  decimalPlaces: 2, // Default decimal places\r\n  roundingPrecision: 0.01, // Default rounding\r\n  thousandsSeparator: \",\", // Default separator is comma\r\n};\r\n\r\nconst SettingsContext = createContext<SettingsContextProps | undefined>(\r\n  undefined,\r\n);\r\n\r\nexport const SettingsProvider = ({ children }: { children: ReactNode }) => {\r\n  const [settings, setSettings] = useState<Omit<AppSettings, \"locale\">>(() => {\r\n    const loadedSettings =\r\n      typeof window !== \"undefined\"\r\n        ? localStorage.getItem(\"appSettings\")\r\n        : null;\r\n    const initialSettings = loadedSettings ? JSON.parse(loadedSettings) : {};\r\n    // Remove locale if it exists in loaded settings\r\n    if (\"locale\" in initialSettings) {\r\n      delete initialSettings.locale;\r\n    }\r\n    return { ...defaultSettings, ...initialSettings }; // Merge defaults with loaded\r\n  });\r\n  const [isLoaded, setIsLoaded] = useState(false); // Flag to ensure localStorage is read only once\r\n\r\n  // Effect to load settings from localStorage on initial client mount\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\" && !isLoaded) {\r\n      // Check if running on client and not already loaded\r\n      try {\r\n        const savedSettings = localStorage.getItem(\"appSettings\");\r\n        if (savedSettings) {\r\n          const parsed = JSON.parse(savedSettings);\r\n          // Remove locale before validation/setting\r\n          if (\"locale\" in parsed) {\r\n            delete parsed.locale;\r\n          }\r\n\r\n          if (\r\n            typeof parsed.decimalPlaces === \"number\" &&\r\n            typeof parsed.roundingPrecision === \"number\" &&\r\n            parsed.roundingPrecision > 0 &&\r\n            typeof parsed.thousandsSeparator === \"string\" &&\r\n            [\",\", \".\", \"'\", \" \"].includes(parsed.thousandsSeparator) // Accept all valid separators\r\n          ) {\r\n            setSettings((prev) => ({ ...defaultSettings, ...prev, ...parsed })); // Ensure defaults are applied\r\n          } else {\r\n            console.warn(\r\n              \"Loaded settings from localStorage are invalid or incomplete (excluding locale). Using defaults.\",\r\n            );\r\n            // Set merged defaults if loaded is bad\r\n            setSettings(defaultSettings);\r\n            localStorage.removeItem(\"appSettings\"); // Clear invalid storage\r\n          }\r\n        } else {\r\n          setSettings(defaultSettings); // Ensure defaults if nothing is loaded\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to load settings from localStorage:\", error);\r\n        setSettings(defaultSettings); // Fallback to defaults on error\r\n      }\r\n      setIsLoaded(true); // Mark as loaded to prevent re-running\r\n    }\r\n  }, [isLoaded]); // Dependency array ensures it runs once after initial mount\r\n\r\n  // Save settings to localStorage whenever they change\r\n  const saveSettings = (newSettings: Partial<Omit<AppSettings, \"locale\">>) => {\r\n    if (typeof window !== \"undefined\") {\r\n      // Ensure running on client\r\n      try {\r\n        // Create a clean copy without any potential 'locale' property\r\n        const cleanSettings = {\r\n          ...(newSettings.decimalPlaces !== undefined && {\r\n            decimalPlaces: newSettings.decimalPlaces,\r\n          }),\r\n          ...(newSettings.roundingPrecision !== undefined && {\r\n            roundingPrecision: newSettings.roundingPrecision,\r\n          }),\r\n          ...(newSettings.thousandsSeparator !== undefined && {\r\n            thousandsSeparator: newSettings.thousandsSeparator,\r\n          }),\r\n        };\r\n\r\n        const updatedSettings = { ...settings, ...cleanSettings };\r\n        setSettings(updatedSettings);\r\n\r\n        // Save to localStorage\r\n        localStorage.setItem(\"appSettings\", JSON.stringify(updatedSettings));\r\n      } catch (error) {\r\n        console.error(\"Failed to save settings to localStorage:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // The direct useEffect sync might cause issues with initial load, rely on saveSettings\r\n  // useEffect(() => { ... }, [settings]); // Remove this redundant effect\r\n\r\n  return (\r\n    // Pass down saveSettings instead of raw setSettings\r\n    <SettingsContext.Provider value={{ settings, saveSettings }}>\r\n      {children}\r\n    </SettingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useSettings = (): SettingsContextProps => {\r\n  const context = useContext(SettingsContext);\r\n  if (!context) {\r\n    throw new Error(\"useSettings must be used within a SettingsProvider\");\r\n  }\r\n  return context;\r\n};\r\n","\"use client\";\r\n\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Cookies from 'js-cookie';\r\nimport { useTranslation } from '@/translations';\r\n\r\n// import Link from 'next/link'; // Not used in the provided snippet for the banner itself\r\n\r\ninterface CustomCookieConsentBannerProps {\r\n  onAcceptAction: () => void;\r\n  onDeclineAction: () => void;\r\n  consentCookieName: string;\r\n  onOpenPrivacyAction: () => void;\r\n}\r\n\r\nexport function CustomCookieConsentBanner({ \r\n  onAcceptAction, \r\n  onDeclineAction, \r\n  consentCookieName, \r\n  onOpenPrivacyAction\r\n}: CustomCookieConsentBannerProps) {\r\n  const { t } = useTranslation();\r\n  const [visible, setVisible] = useState(false);\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Wrap in useCallback to prevent dependency cycle\r\n  const handleAccept = useCallback(() => {\r\n    // Store scroll position before closing\r\n    const scrollPos = window.scrollY;\r\n    \r\n    // Set cookie and close banner\r\n    Cookies.set(consentCookieName, \"true\", { expires: 150 });\r\n    setVisible(false);\r\n    onAcceptAction();\r\n    \r\n    // Restore scroll position after a short delay\r\n    setTimeout(() => window.scrollTo(0, scrollPos), 10);\r\n  }, [consentCookieName, onAcceptAction]);\r\n\r\n  const handleDecline = useCallback(() => {\r\n    // Store scroll position before closing\r\n    const scrollPos = window.scrollY;\r\n    \r\n    // Set cookie and close banner\r\n    Cookies.set(consentCookieName, \"false\", { expires: 150 });\r\n    setVisible(false);\r\n    onDeclineAction();\r\n    \r\n    // Restore scroll position after a short delay\r\n    setTimeout(() => window.scrollTo(0, scrollPos), 10);\r\n  }, [consentCookieName, onDeclineAction]);\r\n\r\n  useEffect(() => {\r\n    const consent = Cookies.get(consentCookieName);\r\n    if (consent !== \"true\" && consent !== \"false\") {\r\n      // Small delay to prevent the banner from appearing during page load animations\r\n      const timer = setTimeout(() => {\r\n        // Save the current scroll position before showing the banner\r\n        const scrollPos = window.scrollY;\r\n        setVisible(true);\r\n        // Restore scroll position to prevent jumping\r\n        setTimeout(() => window.scrollTo(0, scrollPos), 10);\r\n      }, 800);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [consentCookieName]);\r\n\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    \r\n    document.documentElement.classList.add('prevent-scrollbar-shift');\r\n    \r\n    const scrollPos = window.scrollY;\r\n    const preventScrollJump = () => {\r\n      if (window.scrollY !== scrollPos) {\r\n        window.scrollTo(0, scrollPos);\r\n      }\r\n    };\r\n    preventScrollJump();\r\n    setTimeout(preventScrollJump, 50);\r\n    setTimeout(preventScrollJump, 150);\r\n    \r\n    const focusableSelectors = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\r\n    const modal = modalRef.current;\r\n    if (!modal) return;\r\n    const focusableEls = modal.querySelectorAll<HTMLElement>(focusableSelectors);\r\n    // if (focusableEls.length) focusableEls[0].focus(); // Temporarily remove auto-focus\r\n    \r\n    function handleTab(e: KeyboardEvent) {\r\n      if (e.key !== 'Tab') return;\r\n      const first = focusableEls[0];\r\n      const last = focusableEls[focusableEls.length - 1];\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === first) {\r\n          e.preventDefault();\r\n          last.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === last) {\r\n          e.preventDefault();\r\n          first.focus();\r\n        }\r\n      }\r\n    }\r\n    \r\n    function handleEscape(e: KeyboardEvent) {\r\n      if (e.key === 'Escape') {\r\n        handleDecline();\r\n      }\r\n    }\r\n    \r\n    modal.addEventListener('keydown', handleTab);\r\n    document.addEventListener('keydown', handleEscape);\r\n    \r\n    return () => {\r\n      modal.removeEventListener('keydown', handleTab);\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.documentElement.classList.remove('prevent-scrollbar-shift');\r\n    }\r\n  }, [visible, handleDecline]);\r\n\r\n  // Always use the default (right side) positioning\r\n  const getPositionClass = () => {\r\n    // Use responsive positioning for better mobile view\r\n    // Removed the invalid !important modifier\r\n    return \"fixed bottom-6 left-1/2 -translate-x-1/2 sm:left-auto sm:right-6 sm:translate-x-0 z-[2000] w-full max-w-sm pointer-events-none\";\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {visible && (\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 0 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          exit={{ opacity: 0, y: 0 }}\r\n          transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n          className={getPositionClass()}\r\n          aria-label=\"Cookie consent banner\"\r\n          aria-live=\"polite\"\r\n          role=\"region\"\r\n        >\r\n          <div className=\"pointer-events-auto bg-card text-card-foreground rounded-lg shadow-xl border border-border/40 p-6 flex flex-col items-center space-y-5 outline-none max-w-xs sm:max-w-sm w-full mx-4 md:mx-0\">\r\n            <div ref={modalRef} role=\"dialog\" aria-modal=\"true\" tabIndex={-1} className=\"w-full flex flex-col items-center space-y-5\">\r\n              <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mb-1\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"text-primary\">\r\n                  <path d=\"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5\" />\r\n                  <path d=\"M8.5 8.5v.01\" />\r\n                  <path d=\"M16 15.5v.01\" />\r\n                  <path d=\"M12 12v.01\" />\r\n                </svg>\r\n              </div>\r\n              \r\n              <h2 className=\"text-lg font-semibold text-center\">\r\n                {t('ConsentBanner.headline', { defaultValue: 'We use cookies' })}\r\n              </h2>\r\n              \r\n              <p className=\"text-sm text-center text-muted-foreground\">\r\n                {t('ConsentBanner.message')}\r\n              </p>\r\n              \r\n              <div className=\"flex flex-col sm:flex-row sm:space-x-4 space-y-3 sm:space-y-0 justify-center w-full mt-1\">\r\n                <Button\r\n                  variant=\"default\"\r\n                  className=\"w-full sm:w-auto\"\r\n                  onClick={handleAccept}\r\n                  autoFocus\r\n                >\r\n                  {t('ConsentBanner.acceptButton')}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  className=\"w-full sm:w-auto\"\r\n                  onClick={handleDecline}\r\n                >\r\n                  {t('ConsentBanner.declineButton')}\r\n                </Button>\r\n              </div>\r\n\r\n              <button\r\n                type=\"button\"\r\n                onClick={onOpenPrivacyAction}\r\n                className=\"text-sm text-primary hover:underline cursor-pointer bg-transparent border-0 p-0 focus:outline-none focus:ring-2 focus:ring-primary/20 rounded-sm mt-3\"\r\n              >\r\n                {t('ConsentBanner.learnMoreButton')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n} \r\n","import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface TextareaProps extends React.ComponentProps<\"textarea\"> {\r\n  error?: string;\r\n}\r\n\r\nfunction Textarea(\r\n  { className, error, id, ...props }: TextareaProps,\r\n  ref: React.Ref<HTMLTextAreaElement>,\r\n) {\r\n  const errorId = error ? `${id}-error` : undefined;\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <textarea\r\n        id={id}\r\n        ref={ref}\r\n        data-slot=\"textarea\"\r\n        aria-invalid={!!error}\r\n        aria-describedby={errorId}\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          \"shadow-sm\",\r\n          error\r\n            ? \"border-destructive ring-destructive/40 focus-visible:ring-destructive\"\r\n            : \"\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n      {error && (\r\n        <p\r\n          id={errorId}\r\n          role=\"alert\"\r\n          className=\"text-sm font-medium text-destructive mt-1\"\r\n        >\r\n          {error}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ForwardedTextarea = React.forwardRef(Textarea);\r\n\r\nexport { ForwardedTextarea as Textarea };\r\n","\"use client\";\n\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { useEffect, useState } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { MessageSquare } from \"lucide-react\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\nimport { useTranslation } from \"@/translations\"; // Import hook\n\n// TODO: Define API endpoint for feedback submission\n// const FEEDBACK_API_ENDPOINT = \"/api/feedback\";\n\n// Use React.ComponentProps to get the Button component props type\nexport function FeedbackButton({\n  variant = \"outline\",\n  size = \"sm\",\n  className,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { t } = useTranslation(); // Initialize hook\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMounted, setIsMounted] = useState(false); // Mounted state\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState<string | null>(null); // State for textarea error\n\n  useEffect(() => {\n    setIsMounted(true); // Set mounted after initial render\n  }, []);\n\n  // Reset state when dialog closes\n  useEffect(() => {\n    if (!isOpen) {\n      // Delay reset slightly to allow closing animation\n      setTimeout(() => {\n        setMessage(\"\");\n        setError(null);\n      }, 300);\n    }\n  }, [isOpen]);\n\n  const handleSubmitFeedback = () => { // Changed to simple function, no async needed\n    if (!message.trim()) {\n      setError(t(\"FeedbackDialog.errorEmptyMessage\"));\n      return;\n    }\n    setError(null);\n\n    // --- Open Mail Client Instead of API Call ---\n    const subject = encodeURIComponent(t(\"FeedbackDialog.emailSubject\", \"BillSplitter Feedback\"));\n    const body = encodeURIComponent(message);\n    const mailtoLink = `mailto:info@siempi.ch?subject=${subject}&body=${body}`;\n\n    try {\n      // Attempt to open mail client\n      window.location.href = mailtoLink;\n      \n      // Close the dialog immediately after attempting to open mailto\n      setIsOpen(false);\n\n    } catch (mailError) {\n      console.error(\"Failed to open mail client:\", mailError);\n      // Provide fallback error message if mailto fails (e.g., browser blocks it)\n      setError(t(\"FeedbackDialog.errorOpenEmail\", \"Could not open email client.\"));\n    }\n  };\n\n  const handleMessageChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n    if (error && e.target.value.trim()) {\n      setError(null); // Clear error when user starts typing\n    }\n  };\n\n  // Determine labels based on mounted state\n  const triggerLabel = isMounted ? t(\"FeedbackDialog.sendFeedbackButton\") : \"Share Your Feedback\";\n  const dialogTitle = isMounted ? t(\"FeedbackDialog.dialogTitle\") : \"Give Feedback\";\n  const dialogDescription = isMounted ? t(\"Accessibility.feedbackDescription\") : \"Share your thoughts...\";\n  const messageLabel = isMounted ? t(\"FeedbackDialog.messageLabel\") : \"Your Message\";\n  const messagePlaceholder = isMounted ? t(\"FeedbackDialog.messagePlaceholder\") : \"Type your message here...\";\n  const cancelButtonLabel = isMounted ? t(\"FeedbackDialog.cancelButton\") : \"Cancel\";\n  const openEmailButtonLabel = isMounted ? t(\"FeedbackDialog.openEmailButton\") : \"Open Email\"; // Changed label\n\n  return (\n    <>\n      <Button\n        variant={variant}\n        size={size}\n        className={cn(size !== \"icon\" ? \"gap-2\" : \"\", className)} \n        onClick={() => setIsOpen(true)}\n        aria-label={triggerLabel}\n        {...props} // Pass remaining props\n      >\n        <MessageSquare className=\"size-4\" />\n        {size !== \"icon\" && triggerLabel}\n      </Button>\n\n      <Dialog open={isOpen} onOpenChange={setIsOpen}>\n        <DialogContent className=\"sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>{dialogTitle}</DialogTitle>\n            <DialogDescription>\n              {dialogDescription}\n            </DialogDescription>\n          </DialogHeader>\n          <>\n            <div className=\"grid gap-4 py-4\">\n              <div className=\"grid w-full gap-2\">\n                <Label htmlFor=\"feedback-message\">\n                  {messageLabel}\n                </Label>\n                <Textarea\n                  placeholder={messagePlaceholder}\n                  id=\"feedback-message\"\n                  value={message}\n                  onChange={handleMessageChange}\n                  className={error ? \"border-destructive focus-visible:ring-destructive\" : \"\"}\n                />\n                {error && <p className=\"text-sm text-destructive mt-1\">{error}</p>}\n              </div>\n            </div>\n            <DialogFooter className=\"gap-2\">\n              <DialogClose asChild>\n                <Button type=\"button\" variant=\"outline\">\n                  {cancelButtonLabel}\n                </Button>\n              </DialogClose>\n              <Button \n                type=\"button\" \n                onClick={handleSubmitFeedback}\n                disabled={!message.trim()}\n              >\n                {openEmailButtonLabel}\n              </Button>\n            </DialogFooter>\n          </>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","\"use client\"; // Keep client-side for useTranslation\n\n// import { Github, Linkedin, Twitter } from \"lucide-react\"; // Unused imports\n\nimport { useEffect, useState } from \"react\";\n\nimport { FeedbackButton } from \"@/components/feedback-button\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { getLanguageFromPath } from \"@/translations\";\nimport { usePathname } from \"next/navigation\";\nimport { useTranslation } from \"@/translations\";\n\n// Improved footer component with cleaner visual hierarchy and fixed positioning\nexport function Footer() {\n  const { t, i18n } = useTranslation();\n  const pathname = usePathname();\n  const currentYear = new Date().getFullYear();\n  const [mounted, setMounted] = useState(false);\n\n  // Get current language from URL or fall back to i18n.language (This is the local function)\n  const getCurrentLanguage = () => {\n    if (!pathname) return i18n.language || 'en';\n    \n    const pathLanguage = getLanguageFromPath(pathname);\n    return pathLanguage || i18n.language || 'en';\n  };\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Define all labels upfront to avoid conditional rendering\n  // Only use translations after mounting to prevent hydration mismatch\n  const calculatorLabel = mounted ? t(\"General.calculator\") : \"Calculator\";\n  const privacyLabel = mounted ? t(\"General.privacyPolicy\") : \"Privacy Policy\";\n  const termsLabel = mounted ? t(\"General.termsOfUse\") : \"Terms of Use\";\n  const impressumLabel = mounted ? t(\"General.impressum\") : \"Imprint\";\n  const feedbackLabel = mounted ? t(\"General.feedback\") : \"Feedback\";\n  const copyrightLabel = mounted \n    ? t(\"Footer.copyright\", { values: { year: currentYear } })\n    : `© ${currentYear} Siempi AG — All rights reserved.`;\n  const companyLabel = mounted ? t(\"Footer.companyName\") : \"Siempi AG\";\n\n  const currentLang = getCurrentLanguage();\n  \n  // Check if we're already on the calculator page to avoid showing link to current page\n  const isOnCalculatorPage = pathname?.includes('/app');\n\n  return (\n    <footer className=\"w-full border-t border-border text-sm text-gray-600 dark:text-gray-400 py-6 px-4 transition-colors duration-300\">\n      <div className=\"container max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between\">\n        {/* Logo and Brand section - fixed width to maintain consistent positioning */}\n        <div className=\"flex items-center gap-2 mb-4 md:mb-0 md:w-1/3\">\n          <Link href={`/${currentLang}/`} className=\"flex items-center gap-2 cursor-pointer\">\n            <Image\n              src=\"/images/icon.svg\" \n              alt=\"BillSplitter Logo Icon\"\n              width={24}\n              height={24}\n              className=\"w-6 h-6\"\n              priority\n            />\n            {/* Styled span as the relative container for the logo image */}\n            <span className=\"relative block h-7 w-[130px] cursor-pointer\">\n              <Image \n                src=\"/images/logo.svg\" \n                alt=\"BillSplitter Logo\" \n                fill\n                className=\"object-contain\"\n                priority\n              />\n            </span>\n          </Link>\n          {/* \"by Siempi AG\" is now a sibling to the Link, not a child */}\n          <span className=\"text-gray-500 text-xs\">by {companyLabel}</span>\n        </div>\n\n        {/* Navigation Links - Grouped into two rows */}\n        <nav className=\"flex flex-col items-center gap-2 text-sm md:w-1/3\">\n          {/* Top Row: Calculator & Feedback */}\n          <div className=\"flex flex-wrap justify-center gap-4\">\n            {/* 1. Calculator link (conditional) */}\n          {!isOnCalculatorPage && (\n            <Link\n              href={`/${currentLang}/app/`}\n              className=\"hover:underline transition-colors duration-200\"\n            >\n              {calculatorLabel}\n            </Link>\n          )}\n            {/* 2. Feedback Button */}\n            <FeedbackButton \n              variant=\"link\" \n              size=\"sm\"\n              className=\"p-0 h-auto font-normal text-sm hover:underline text-gray-600 dark:text-gray-400 transition-colors duration-200\"\n            >\n              {feedbackLabel}\n            </FeedbackButton>\n          </div>\n\n          {/* Bottom Row: Legal Links */}\n          <div className=\"flex flex-wrap justify-center gap-4\">\n            {/* 3. Privacy Policy */}\n          <Link\n            href={`/${currentLang}/legal/privacy-policy/`}\n            className=\"hover:underline transition-colors duration-200\"\n          >\n            {privacyLabel}\n          </Link>\n            {/* 4. Terms of Use */}\n          <Link\n            href={`/${currentLang}/legal/terms-of-use/`}\n            className=\"hover:underline transition-colors duration-200\"\n          >\n            {termsLabel}\n          </Link>\n            {/* 5. Impressum */}\n          <Link\n            href={`/${currentLang}/legal/impressum/`}\n            className=\"hover:underline transition-colors duration-200\"\n          >\n            {impressumLabel}\n          </Link>\n          </div>\n        </nav>\n\n        {/* Copyright notice - fixed width to maintain consistent positioning */}\n        <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-4 md:mt-0 md:w-1/3 md:text-right transition-colors duration-200\">\n          {copyrightLabel}\n        </div>\n      </div>\n    </footer>\n  );\n} \n","'use client';\r\n\r\nimport { useEffect } from 'react';\r\n\r\ninterface HeadWithHreflangProps {\r\n  currentPath: string;\r\n  currentLanguage: string;\r\n}\r\n\r\n// This component adds explicit hreflang link tags to all pages\r\nexport default function HeadWithHreflang({ currentPath, currentLanguage }: HeadWithHreflangProps) {\r\n  // Site configuration\r\n  const siteUrl = 'https://billsplitter.siempi.ch';\r\n  const supportedLanguages = ['en', 'de'];\r\n  \r\n  // Extract path without language prefix\r\n  const getPathWithoutLang = (path: string) => {\r\n    const pathSegments = path.split('/').filter(Boolean);\r\n    if (pathSegments.length > 0 && supportedLanguages.includes(pathSegments[0])) {\r\n      return '/' + pathSegments.slice(1).join('/');\r\n    }\r\n    return path;\r\n  };\r\n  \r\n  // Path without language prefix\r\n  const pathWithoutLang = getPathWithoutLang(currentPath);\r\n  \r\n  // Generate URLs for all language versions\r\n  const generateUrls = () => {\r\n    const urls: Record<string, string> = {};\r\n    \r\n    supportedLanguages.forEach(lang => {\r\n      if (pathWithoutLang === '/') {\r\n        // For the root page\r\n        urls[lang] = `${siteUrl}/${lang}/`;\r\n      } else {\r\n        // For subpages\r\n        urls[lang] = `${siteUrl}/${lang}${pathWithoutLang}/`;\r\n      }\r\n    });\r\n    \r\n    // Add x-default (pointing to English version)\r\n    if (pathWithoutLang === '/') {\r\n      urls['x-default'] = `${siteUrl}/en/`;\r\n    } else {\r\n      urls['x-default'] = `${siteUrl}/en${pathWithoutLang}/`;\r\n    }\r\n    \r\n    return urls;\r\n  };\r\n  \r\n  // Get canonical URL\r\n  const getCanonicalUrl = () => {\r\n    if (currentLanguage && pathWithoutLang) {\r\n      return `${siteUrl}/${currentLanguage}${pathWithoutLang}/`;\r\n    } else if (currentLanguage) {\r\n      return `${siteUrl}/${currentLanguage}/`;\r\n    } else {\r\n      return `${siteUrl}/en/`;\r\n    }\r\n  };\r\n  \r\n  // URLs for all language versions\r\n  const urls = generateUrls();\r\n  const canonicalUrl = getCanonicalUrl();\r\n\r\n  // Add the link tags directly to the document head\r\n  useEffect(() => {\r\n    // Function to create and add a link element\r\n    const addLinkElement = (rel: string, hreflang: string | null, href: string) => {\r\n      const linkElement = document.createElement('link');\r\n      linkElement.rel = rel;\r\n      if (hreflang) {\r\n        linkElement.hreflang = hreflang;\r\n      }\r\n      linkElement.href = href;\r\n      document.head.appendChild(linkElement);\r\n      return linkElement;\r\n    };\r\n    \r\n    // Array to track added elements for cleanup\r\n    const addedElements: HTMLLinkElement[] = [];\r\n    \r\n    // Add canonical tag\r\n    addedElements.push(addLinkElement('canonical', null, canonicalUrl));\r\n    \r\n    // Add hreflang tags for all language versions\r\n    Object.entries(urls).forEach(([lang, url]) => {\r\n      if (lang === 'x-default') {\r\n        addedElements.push(addLinkElement('alternate', 'x-default', url));\r\n      } else {\r\n        addedElements.push(addLinkElement('alternate', lang, url));\r\n      }\r\n    });\r\n    \r\n    // Cleanup function to remove link elements when component unmounts\r\n    return () => {\r\n      addedElements.forEach(element => {\r\n        if (document.head.contains(element)) {\r\n          document.head.removeChild(element);\r\n        }\r\n      });\r\n    };\r\n  }, [currentPath, currentLanguage, canonicalUrl, urls]);\r\n\r\n  // This component doesn't render anything visible\r\n  return null;\r\n} \r\n","\"use client\";\n\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport * as React from \"react\";\n\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Helper function to get scrollbar width\nfunction getScrollbarWidth() {\n  if (typeof window === 'undefined') return 0;\n  return window.innerWidth - document.documentElement.clientWidth;\n}\n\n// Modified useScrollbarSize hook\nfunction useScrollbarSize(isOpen: boolean) { \n  React.useEffect(() => {\n    if (typeof document !== 'undefined') {\n      if (isOpen) {\n        document.documentElement.classList.add('prevent-scrollbar-shift');\n        const scrollbarWidth = getScrollbarWidth();\n        document.documentElement.style.setProperty('--scrollbar-width', `${scrollbarWidth}px`);\n        \n        // Return a cleanup function that will run when isOpen becomes false or component unmounts\n        return () => {\n          document.documentElement.classList.remove('prevent-scrollbar-shift');\n          // Consider if removing the variable is safe or if other components might rely on it.\n          // For now, let's remove it to be clean, assuming one active scroll-sensitive component at a time.\n          document.documentElement.style.removeProperty('--scrollbar-width'); \n        };\n      } else {\n        // If called with isOpen = false, and the class is present (e.g. from a previous true state that didn't cleanup yet)\n        // ensure it's removed. This handles transitions from true to false gracefully.\n        if (document.documentElement.classList.contains('prevent-scrollbar-shift')) {\n          document.documentElement.classList.remove('prevent-scrollbar-shift');\n          document.documentElement.style.removeProperty('--scrollbar-width');\n        }\n      }\n    }\n  }, [isOpen]); // Re-run when isOpen changes\n}\n\nfunction DropdownMenu({\n  onOpenChange, \n  open: controlledOpen,\n  defaultOpen,\n  modal = false, \n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  const [isInternalOpen, setIsInternalOpen] = React.useState(defaultOpen ?? false);\n  \n  // Determine the actual open state (controlled or internal)\n  const isActuallyOpen = controlledOpen !== undefined ? controlledOpen : isInternalOpen;\n\n  // Call the hook with the actual open state\n  useScrollbarSize(isActuallyOpen);\n\n  const handleOpenChange = React.useCallback((openParam: boolean) => {\n    if (controlledOpen === undefined) { // Only update internal state if not controlled\n      setIsInternalOpen(openParam);\n    }\n    if (onOpenChange) {\n      onOpenChange(openParam);\n    }\n  }, [onOpenChange, controlledOpen]);\n\n  return (\n      <DropdownMenuPrimitive.Root \n          data-slot=\"dropdown-menu\" \n          {...props} \n          open={isActuallyOpen}\n          onOpenChange={handleOpenChange}\n          modal={modal}\n      />\n  );\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, children, ...props }, ref) => {\n  // Smoothly handle mounting and unmounting\n  /* React.useEffect(() => {\n    // Ensure clean unmounting\n    return () => {\n      // Force cleanup any orphaned portal elements\n      if (typeof document !== 'undefined') {\n        // Ensure this cleanup happens after React's normal cleanup attempt\n        setTimeout(() => {\n          try {\n            document.querySelectorAll('[data-radix-dropdown-menu-content]').forEach(element => {\n              if (element && element.parentNode) {\n                element.parentNode.removeChild(element);\n              }\n            });\n          } catch (e) {\n            // Silently fail if cleanup causes any issues\n            console.debug(\"Error during dropdown cleanup:\", e);\n          }\n        }, 0);\n      }\n    };\n  }, []); */\n\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        ref={ref}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </DropdownMenuPrimitive.Content>\n    </DropdownMenuPrimitive.Portal>\n  );\n});\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-pointer items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-pointer items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => {\n  // Simplified: Radix handles its own animation states.\n  // We don't need the complex isMounted logic for SubContent if not adding custom animations.\n  // If custom mount/unmount animations controlled by isMounted were desired here,\n  // a similar pattern to DropdownMenuContent (non-prop controlled part) would be used.\n\n  return (\n    <DropdownMenuPrimitive.SubContent\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  );\n});\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { LANGUAGE_STORAGE_KEY, SUPPORTED_LANGUAGES, changeLanguage } from \"@/translations\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Globe } from \"lucide-react\";\r\nimport ReactCountryFlag from \"react-country-flag\";\r\nimport { useTranslation } from \"@/translations\";\r\n\r\n// Helper function to set a cookie\r\nfunction setCookie(name: string, value: string, days: number) {\r\n  let expires = \"\";\r\n  if (days) {\r\n    const date = new Date();\r\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n    expires = \"; expires=\" + date.toUTCString();\r\n  }\r\n  // Ensure SameSite=Lax for compatibility with middleware default\r\n  document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/; SameSite=Lax\";\r\n}\r\n\r\nexport default function LanguageToggle() {\r\n  const { i18n } = useTranslation();\r\n  const [mounted, setMounted] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  // Ensure hydration works properly\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const handleLanguageChange = (lng: string) => {\r\n    // Don't do anything if the language is already set to the target language\r\n    if (i18n.language === lng) {\r\n      setOpen(false);\r\n      return;\r\n    }\r\n    \r\n    // First check if we're on a legal page that requires special handling\r\n    const isLegalPage = pathname && (\r\n      pathname.includes('/legal/privacy-policy') || \r\n      pathname.includes('/legal/terms-of-use') ||\r\n      pathname.includes('/legal/impressum')\r\n    );\r\n    \r\n    // Save language in localStorage for persistence\r\n    localStorage.setItem(LANGUAGE_STORAGE_KEY, lng);\r\n    // Set cookie for middleware persistence\r\n    setCookie('NEXT_LOCALE', lng, 365); \r\n    \r\n    // Close dropdown menu\r\n    setOpen(false);\r\n\r\n    // Handle URL change and language update\r\n    if (pathname) {\r\n      // Get current language from URL\r\n      const pathSegments = pathname.split('/');\r\n      const currentLang = pathSegments.length > 1 && SUPPORTED_LANGUAGES.includes(pathSegments[1]) \r\n                           ? pathSegments[1] \r\n                           : null;\r\n      \r\n      let newPath;\r\n      \r\n      if (currentLang) {\r\n        // Replace language segment in path\r\n        newPath = pathname.replace(`/${currentLang}`, `/${lng}`);\r\n      } else {\r\n        // If no language in URL, add it\r\n        newPath = `/${lng}${pathname}`;\r\n      }\r\n      \r\n      // Different handling based on page type\r\n      if (isLegalPage) {\r\n        // For legal pages:\r\n        // 1. Update URL without a full page reload\r\n        window.history.pushState(null, '', newPath);\r\n        \r\n        // 2. Change the language after URL is updated\r\n        // This sequence is important to prevent the race condition\r\n        setTimeout(() => {\r\n          changeLanguage(lng);\r\n          \r\n          // 3. Dispatch event so other components know to update\r\n          document.dispatchEvent(new CustomEvent('languageChanged', { \r\n            detail: { language: lng, source: 'language-toggle' } \r\n          }));\r\n        }, 0);\r\n      } else {\r\n        // For regular pages, use router navigation\r\n        // Change language first to avoid flashing\r\n        changeLanguage(lng);\r\n        router.push(newPath);\r\n      }\r\n    } else {\r\n      // If no pathname available, just change the language\r\n      changeLanguage(lng);\r\n    }\r\n  };\r\n\r\n  if (!mounted) return null;\r\n\r\n  const isEnglish = i18n.language === \"en\";\r\n  const isGerman = i18n.language === \"de\";\r\n\r\n  return (\r\n    <DropdownMenu open={open} onOpenChange={setOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button \r\n          variant=\"ghost\" \r\n          size=\"icon\" \r\n          className=\"relative w-10 h-10 flex items-center justify-center\"\r\n          onClick={(e) => {\r\n            // Prevent event propagation to avoid layout shifts\r\n            e.stopPropagation();\r\n          }}\r\n        >\r\n          <div className=\"relative w-5 h-5 flex items-center justify-center\">\r\n            <Globe className=\"h-5 w-5 text-foreground hover:text-primary\" />\r\n          </div>\r\n          <span className=\"sr-only\">Toggle language</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <AnimatePresence>\r\n        {open && (\r\n          <DropdownMenuContent \r\n            align=\"end\" \r\n            side=\"top\" \r\n            sideOffset={4} \r\n            className=\"z-[1000] bg-popover border border-border shadow-lg rounded-lg\"\r\n            asChild\r\n            forceMount\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 5 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 5 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <DropdownMenuItem \r\n                onClick={() => handleLanguageChange(\"en\")}\r\n                className={`cursor-pointer hover:text-primary ${isEnglish ? \"font-medium\" : \"\"}`}\r\n              >\r\n                <ReactCountryFlag\r\n                  countryCode=\"GB\"\r\n                  svg\r\n                  style={{\r\n                    width: \"1.2em\",\r\n                    height: \"1.2em\",\r\n                    marginRight: \"0.5rem\",\r\n                  }}\r\n                  title=\"English\"\r\n                />\r\n                <span className={isEnglish ? \"font-bold\" : \"\"}>English</span>\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem \r\n                onClick={() => handleLanguageChange(\"de\")}\r\n                className={`cursor-pointer hover:text-primary ${isGerman ? \"font-medium\" : \"\"}`}\r\n              >\r\n                <ReactCountryFlag\r\n                  countryCode=\"DE\"\r\n                  svg\r\n                  style={{\r\n                    width: \"1.2em\",\r\n                    height: \"1.2em\",\r\n                    marginRight: \"0.5rem\",\r\n                  }}\r\n                  title=\"Deutsch\"\r\n                />\r\n                <span className={isGerman ? \"font-bold\" : \"\"}>Deutsch</span>\r\n              </DropdownMenuItem>\r\n            </motion.div>\r\n          </DropdownMenuContent>\r\n        )}\r\n      </AnimatePresence>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Moon, Sun } from \"lucide-react\";\n\nimport { AccessibleIcon } from \"@/components/ui/accessible-icon\";\nimport { Button } from \"@/components/ui/button\";\nimport { useState } from \"react\";\nimport { useTheme } from \"next-themes\";\nimport { useTranslation } from \"@/translations\";\n\nexport function ThemeToggle() {\n  const { setTheme, theme, resolvedTheme } = useTheme();\n  const { t } = useTranslation();\n  const [isMounted, setIsMounted] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  // Add effect to detect system preference on first load\n  React.useEffect(() => {\n    setIsMounted(true);\n\n    // Add a class when transitioning to prevent multiple layout shifts\n    if (theme !== undefined) {\n      document.documentElement.classList.add('transitioning');\n      \n      // Remove the class after transition completes\n      const transitionTimeout = setTimeout(() => {\n        document.documentElement.classList.remove('transitioning');\n      }, 500); // Match this to your transition duration\n      \n      return () => {\n        clearTimeout(transitionTimeout);\n        document.documentElement.classList.remove('transitioning');\n      };\n    }\n\n    // Debug info\n    console.log('Theme state:', { theme, resolvedTheme });\n    console.log('HTML dataset theme:', document.documentElement.dataset.theme);\n    console.log('HTML classList contains dark:', document.documentElement.classList.contains('dark'));\n  }, [theme, resolvedTheme]);\n\n  const handleThemeChange = (newTheme: string) => {\n    setTheme(newTheme);\n    setOpen(false); // Close dropdown after selection\n  };\n\n  // Determine the label text, use default English on server/pre-mount\n  const toggleLabel = isMounted ? t(\"ThemeToggle.toggleTheme\") : \"Toggle theme\";\n\n  // Render null if not mounted to prevent hydration errors\n  if (!isMounted) {\n    // Returning a simple div or null ensures no interactive elements mismatch\n    return <div className=\"w-10 h-10\" />; // Or return null;\n  }\n\n  // Render the full dropdown menu once mounted\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen}>\n      <DropdownMenuTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          aria-label={toggleLabel}\n          className=\"text-foreground hover:text-primary relative w-10 h-10\"\n          onClick={(e) => {\n            // Prevent event propagation to avoid layout shifts\n            e.stopPropagation();\n          }}\n        >\n          <div className=\"relative w-[1.2rem] h-[1.2rem] overflow-hidden flex items-center justify-center\">\n          <AccessibleIcon label={toggleLabel}>\n              <Sun className=\"h-[1.2rem] w-[1.2rem] absolute rotate-0 scale-100 transition-transform duration-300 dark:-rotate-90 dark:scale-0\" />\n              <Moon className=\"h-[1.2rem] w-[1.2rem] absolute rotate-90 scale-0 transition-transform duration-300 dark:rotate-0 dark:scale-100\" />\n          </AccessibleIcon>\n          </div>\n        </Button>\n      </DropdownMenuTrigger>\n      <AnimatePresence>\n        {open && (\n          <DropdownMenuContent \n            align=\"end\" \n            side=\"top\" \n            sideOffset={4} \n            className=\"z-[1000] bg-popover border border-border shadow-lg rounded-lg\"\n            asChild\n            forceMount\n          >\n            <motion.div\n              initial={{ opacity: 0, y: 5 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: 5 }}\n              transition={{ duration: 0.15 }}\n            >\n        <DropdownMenuItem\n          onClick={() => handleThemeChange(\"light\")}\n          className={`cursor-pointer hover:text-primary ${theme === \"light\" ? \"font-medium\" : \"\"}`}\n        >\n          {t(\"ThemeToggle.light\")}\n        </DropdownMenuItem>\n        <DropdownMenuItem\n          onClick={() => handleThemeChange(\"dark\")}\n          className={`cursor-pointer hover:text-primary ${theme === \"dark\" ? \"font-medium\" : \"\"}`}\n        >\n          {t(\"ThemeToggle.dark\")}\n        </DropdownMenuItem>\n        <DropdownMenuItem\n          onClick={() => handleThemeChange(\"system\")}\n          className={`cursor-pointer hover:text-primary ${theme === \"system\" ? \"font-medium\" : \"\"}`}\n        >\n          {t(\"ThemeToggle.system\")}\n        </DropdownMenuItem>\n            </motion.div>\n      </DropdownMenuContent>\n        )}\n      </AnimatePresence>\n    </DropdownMenu>\n  );\n}\n","\"use client\";\n\nimport { SUPPORTED_LANGUAGES, getCurrentLanguage, getLanguageFromPath } from \"@/translations\";\nimport { useEffect, useState } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport Image from \"next/image\";\nimport LanguageToggle from \"@/components/language-toggle\";\nimport Link from \"next/link\";\n// import { MainNav } from \"@/components/main-nav\"; // TODO: Resolve path or remove if not used\n// import { MobileNav } from \"@/components/mobile-nav\"; // TODO: Resolve path or remove if not used\nimport { ThemeToggle } from \"@/components/theme-toggle\";\nimport { usePathname } from \"next/navigation\";\nimport { useTranslation } from \"@/translations\";\n\nexport function Header() {\n  const { t, i18n } = useTranslation();\n  const pathname = usePathname();\n  const [mounted, setMounted] = useState(false);\n  const [currentLang, setCurrentLang] = useState<string>('');\n  \n  // Mount effect\n  useEffect(() => {\n    setMounted(true);\n    \n    // Initial language setup from URL path\n    const pathLanguage = getLanguageFromPath(pathname || '');\n    const initialLang = pathLanguage || i18n.language || getCurrentLanguage();\n    \n    setCurrentLang(initialLang);\n    \n    // Ensure i18n is in sync with URL\n    if (pathLanguage && i18n.language !== pathLanguage) {\n      i18n.changeLanguage(pathLanguage);\n    }\n  }, [i18n, pathname]);\n\n  // Effect to track path/language changes\n  useEffect(() => {\n    if (!mounted) return;\n    \n    const pathLanguage = getLanguageFromPath(pathname || '');\n    if (pathLanguage) {\n      setCurrentLang(pathLanguage);\n      \n      // Update i18n language if needed\n      if (i18n.language !== pathLanguage) {\n        i18n.changeLanguage(pathLanguage);\n      }\n    }\n  }, [pathname, mounted, i18n]);\n  \n  // Listen for language changes from outside this component\n  useEffect(() => {\n    if (!mounted) return;\n    \n    const handleLanguageChanged = (e: Event) => {\n      const customEvent = e as CustomEvent;\n      const newLang = customEvent.detail?.language || customEvent.detail;\n      \n      if (newLang && typeof newLang === 'string' && SUPPORTED_LANGUAGES.includes(newLang)) {\n        setCurrentLang(newLang);\n        \n        // Sync i18n if needed\n        if (i18n.language !== newLang) {\n          i18n.changeLanguage(newLang);\n        }\n      }\n    };\n    \n    document.addEventListener('languageChanged', handleLanguageChanged);\n    \n    return () => {\n      document.removeEventListener('languageChanged', handleLanguageChanged);\n    };\n  }, [mounted, i18n]);\n  \n  // Track i18n language changes directly\n  useEffect(() => {\n    if (!mounted) return;\n    \n    // Update local state when i18n language changes\n    if (i18n.language && currentLang !== i18n.language) {\n      setCurrentLang(i18n.language);\n    }\n  }, [i18n.language, mounted, currentLang]);\n  \n  const rawPathname = pathname || '';\n  // Normalize pathname: remove trailing slash if it's not the root itself\n  const normalizedPathname = rawPathname.length > 1 && rawPathname.endsWith('/') ? rawPathname.slice(0, -1) : rawPathname;\n\n  // Check if user is already on the app page to avoid showing the button if they're already there\n  const isOnAppPage = normalizedPathname.endsWith('/app');\n  \n  // Always show the get started button unless user is already on the app page\n  const showGetStartedButton = !isOnAppPage;\n  const showThemeToggle = !rawPathname.includes('/legal/privacy-policy');\n\n  // Don't render until we're mounted and currentLang state is set (for links etc.)\n  if (!mounted || !currentLang) return null;\n\n  // Ensure linkLang is valid for the Link href\n  const linkLangForButton = currentLang || getCurrentLanguage();\n  \n  // Compute paths once\n  const homePath = `/${linkLangForButton}/`;\n  const appPath = `/${linkLangForButton}/app/`;\n\n  return (\n    <header className=\"fixed top-0 z-[100] w-full border-b border-border/40 bg-background/95 dark:bg-background/90 backdrop-blur-sm will-change-transform\">\n      <div className=\"container mx-auto flex h-16 items-center justify-between px-4 sm:px-6\">\n        <div className=\"flex items-center\">\n          {/* Changed Link to standard <a> tag for full refresh */}\n          <a \n            href={homePath}\n            className=\"flex items-center cursor-pointer\"\n          >\n            <Image\n              src=\"/images/logo.svg\"\n              alt=\"BillSplitter Logo\"\n              width={180}\n              height={40}\n              priority\n              className=\"h-10\"\n            />\n          </a>\n        </div>\n        \n        <div className=\"flex flex-1 items-center justify-between space-x-2 md:justify-end\">\n          <div className=\"w-full flex-1 md:w-auto md:flex-none\">\n            {/* <CommandMenu /> */}\n          </div>\n          {/* <MainNav /> */}\n          {/* <MobileNav /> */}\n          <nav className=\"flex items-center space-x-2\">\n          {showGetStartedButton && (\n            <Button \n              asChild\n              variant=\"outline\" \n              size=\"sm\" \n              className=\"flex items-center gap-1 hover:bg-primary hover:text-primary-foreground transition-colors cursor-pointer\"\n            >\n              <Link href={appPath}>\n                {t(\"General.getStarted\", { defaultValue: \"Split Invoice\" })}\n              </Link>\n            </Button>\n          )}\n          <LanguageToggle />\n          {showThemeToggle && <ThemeToggle />}\n        </nav>\n        </div>\n      </div>\n    </header>\n  );\n} \n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\r\nimport { type ThemeProviderProps } from \"next-themes\";\r\n\r\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\r\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\r\n}\r\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  );\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  );\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\r\n","'use client';\r\n\r\nimport React, { createContext, useEffect, useState } from 'react';\r\nimport { getLanguageFromPath, i18n } from '@/translations';\r\n\r\nimport { usePathname } from 'next/navigation';\r\n\r\nexport const TranslationContext = createContext(i18n);\r\n\r\nexport default function TranslationProvider({ children }: { children: React.ReactNode }) {\r\n  // We need state for forcing rerenders, but don't directly use the value\r\n  const [, setMounted] = useState(false);\r\n  const pathname = usePathname();\r\n  \r\n  useEffect(() => {\r\n    setMounted(true);\r\n    \r\n    // Sync language with URL path if needed\r\n    const pathLanguage = getLanguageFromPath(pathname || '');\r\n    if (pathLanguage && pathLanguage !== i18n.language) {\r\n      i18n.changeLanguage(pathLanguage);\r\n    }\r\n    \r\n    // Set document language\r\n    document.documentElement.lang = i18n.language;\r\n  }, [pathname]);\r\n  \r\n  // Subscribe to language changes\r\n  useEffect(() => {\r\n    const handleLanguageChanged = (e: Event) => {\r\n      const customEvent = e as CustomEvent;\r\n      const newLang = customEvent.detail?.language || i18n.language;\r\n      document.documentElement.lang = newLang;\r\n      \r\n      // Force a component rerender when language changes\r\n      setMounted(prev => !prev);\r\n    };\r\n    \r\n    document.addEventListener('languageChanged', handleLanguageChanged);\r\n    return () => {\r\n      document.removeEventListener('languageChanged', handleLanguageChanged);\r\n    };\r\n  }, []);\r\n  \r\n  return (\r\n    <TranslationContext.Provider value={i18n}>\r\n      {children}\r\n    </TranslationContext.Provider>\r\n  );\r\n} \r\n ","'use client';\n\nimport { CustomCookieConsentBanner } from \"@/components/custom-cookie-banner\";\nimport { Footer } from \"@/components/footer\";\nimport HeadWithHreflang from \"@/components/head-with-hreflang\";\nimport { Header } from \"@/components/header\";\nimport { SettingsProvider } from \"@/context/settings-context\";\nimport { ThemeProvider } from \"@/components/theme-provider\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport TranslationProvider from \"@/components/translation-provider\";\nimport { usePathname } from \"next/navigation\";\n\nexport default function ClientLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const path = usePathname() || '';\n  const lang = path.split('/')[1] === 'de' ? 'de' : 'en';\n  \n  return (\n    <SettingsProvider>\n      <ThemeProvider\n        attribute=\"class\"\n        defaultTheme=\"system\"\n        enableSystem\n        disableTransitionOnChange\n      >\n        <TooltipProvider>\n          <TranslationProvider>\n            <HeadWithHreflang currentPath={path} currentLanguage={lang} />\n            \n            <div className=\"flex flex-col min-h-screen w-full overflow-y-auto\">\n              <Header />\n              <main className=\"flex-grow w-full pt-16 pb-24\">{children}</main>\n              <Footer />\n            </div>\n            <CustomCookieConsentBanner\n              onAcceptAction={() => {\n                console.log(\"Global consent accepted\");\n                if (typeof window !== \"undefined\") {\n                  window.location.reload();\n                }\n              }}\n              onDeclineAction={() => console.log(\"Global consent declined\")}\n              consentCookieName=\"siempiBillSplitterConsent\"\n              onOpenPrivacyAction={() => {\n                window.location.href = `/${lang}/legal/privacy-policy`;\n              }}\n            />\n          </TranslationProvider>\n        </TooltipProvider>\n      </ThemeProvider>\n    </SettingsProvider>\n  );\n} \n","import(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Mauro\\\\Repos\\\\Siempi\\\\Saas\\\\billingperiodallocator\\\\src\\\\app\\\\globals.css\");\n;\nimport(/* webpackMode: \"eager\" */ \"C:\\\\Users\\\\Mauro\\\\Repos\\\\Siempi\\\\Saas\\\\billingperiodallocator\\\\node_modules\\\\next\\\\font\\\\google\\\\target.css?{\\\"path\\\":\\\"src\\\\\\\\app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Roboto\\\",\\\"arguments\\\":[{\\\"weight\\\":[\\\"300\\\",\\\"400\\\",\\\"500\\\",\\\"700\\\"],\\\"subsets\\\":[\\\"latin\\\"],\\\"display\\\":\\\"swap\\\"}],\\\"variableName\\\":\\\"roboto\\\"}\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"C:\\\\Users\\\\Mauro\\\\Repos\\\\Siempi\\\\Saas\\\\billingperiodallocator\\\\src\\\\components\\\\client-layout.tsx\");\n","import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-2 aria-[invalid=true]:ring-destructive/20 dark:aria-[invalid=true]:ring-destructive/40 aria-[invalid=true]:border-destructive cursor-pointer hover:transform hover:translate-y-[-2px] hover:scale-[1.015]\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-md\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 hover:shadow-md\",\r\n        outline:\r\n          \"border bg-background shadow-md hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 hover:shadow-md\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-md hover:bg-secondary/80 hover:shadow-md\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-8 rounded-md px-3 py-1\",\r\n        lg: \"h-12 px-6 py-3\",\r\n        icon: \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean;\r\n  }) {\r\n  const Comp = asChild ? Slot : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Button, buttonVariants };\r\n","// extracted by mini-css-extract-plugin","import * as React from \"react\";\r\n\r\n/**\r\n * VisuallyHidden component hides its children visually but keeps them accessible to screen readers.\r\n */\r\nfunction VisuallyHidden({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <span\r\n      className=\"absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0\"\r\n      style={{ clip: \"rect(0, 0, 0, 0)\" }}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport { VisuallyHidden };\r\n","import * as React from \"react\";\r\n\r\nimport { VisuallyHidden } from \"@/components/ui/visually-hidden\";\r\n\r\ninterface AccessibleIconProps {\r\n  label: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\n/**\r\n * AccessibleIcon component wraps an icon and provides a visually hidden label for screen readers.\r\n */\r\nfunction AccessibleIcon({ label, children }: AccessibleIconProps) {\r\n  return (\r\n    <span className=\"inline-flex items-center justify-center\">\r\n      {children}\r\n      <VisuallyHidden>{label}</VisuallyHidden>\r\n    </span>\r\n  );\r\n}\r\n\r\nexport { AccessibleIcon };\r\n","\"use client\";\r\n\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport * as React from \"react\";\r\n\r\nimport { AccessibleIcon } from \"@/components/ui/accessible-icon\";\r\nimport { XIcon } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 backdrop-blur-sm bg-black/30\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\r\n  const [isMounted, setIsMounted] = React.useState(false);\r\n  const isMountedRef = React.useRef(true);\r\n\r\n  React.useEffect(() => {\r\n    isMountedRef.current = true;\r\n    const mountTimer = setTimeout(() => {\r\n      if (isMountedRef.current) {\r\n        setIsMounted(true);\r\n      }\r\n    }, 10); // Small delay to ensure DOM is ready for animations\r\n\r\n    return () => {\r\n      isMountedRef.current = false;\r\n      clearTimeout(mountTimer);\r\n      // No need to call setIsMounted(false) here.\r\n      // React will unmount the component and its contents naturally.\r\n      // The isMounted state is primarily for the initial mount animation.\r\n    };\r\n  }, []);\r\n\r\n  if (!isMounted) {\r\n    return null; // Render nothing until mounted (for entry animation)\r\n  }\r\n\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-xl duration-200 sm:max-w-lg mx-auto\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <DialogPrimitive.Close\r\n          aria-label=\"Close dialog\"\r\n          className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:pointer-events-none cursor-pointer\"\r\n        >\r\n          <AccessibleIcon label=\"Close\">\r\n            <XIcon className=\"size-4\" />\r\n          </AccessibleIcon>\r\n        </DialogPrimitive.Close>\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn(\"text-lg leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n};\r\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Label };\r\n"],"names":["defaultSettings","decimalPlaces","roundingPrecision","thousandsSeparator","SettingsContext","createContext","undefined","SettingsProvider","children","settings","setSettings","useState","loadedSettings","localStorage","getItem","initialSettings","JSON","parse","locale","isLoaded","setIsLoaded","useEffect","savedSettings","parsed","includes","prev","console","warn","removeItem","error","Provider","value","saveSettings","newSettings","cleanSettings","updatedSettings","setItem","stringify","context","useContext","CustomCookieConsentBanner","onAcceptAction","onDeclineAction","consentCookieName","onOpenPrivacyAction","t","useTranslation","visible","setVisible","modalRef","useRef","handleAccept","useCallback","scrollPos","window","scrollY","Cookies","set","expires","setTimeout","scrollTo","handleDecline","consent","get","timer","clearTimeout","document","documentElement","classList","add","preventScrollJump","modal","current","focusableEls","querySelectorAll","focusableSelectors","handleTab","e","key","first","last","length","shiftKey","activeElement","preventDefault","focus","handleEscape","addEventListener","removeEventListener","remove","AnimatePresence","motion","div","initial","opacity","y","animate","exit","transition","duration","ease","className","getPositionClass","aria-label","aria-live","role","ref","aria-modal","tabIndex","svg","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","path","d","h2","defaultValue","p","Button","variant","onClick","autoFocus","button","type","ForwardedTextarea","React","Textarea","id","props","errorId","textarea","data-slot","aria-invalid","aria-describedby","cn","FeedbackButton","size","isOpen","setIsOpen","isMounted","setIsMounted","message","setMessage","setError","triggerLabel","dialogTitle","dialogDescription","messageLabel","messagePlaceholder","cancelButtonLabel","openEmailButtonLabel","MessageSquare","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","htmlFor","placeholder","onChange","handleMessageChange","target","trim","DialogFooter","DialogClose","asChild","handleSubmitFeedback","subject","encodeURIComponent","body","mailtoLink","location","href","mailError","disabled","Footer","i18n","pathname","usePathname","currentYear","Date","getFullYear","mounted","setMounted","calculatorLabel","privacyLabel","termsLabel","impressumLabel","feedbackLabel","copyrightLabel","values","year","companyLabel","currentLang","getLanguageFromPath","getCurrentLanguage","language","isOnCalculatorPage","footer","Link","Image","src","alt","priority","span","nav","HeadWithHreflang","currentPath","currentLanguage","siteUrl","supportedLanguages","pathWithoutLang","getPathWithoutLang","pathSegments","split","filter","Boolean","slice","join","urls","generateUrls","forEach","lang","canonicalUrl","getCanonicalUrl","addLinkElement","rel","hreflang","linkElement","createElement","head","appendChild","addedElements","push","Object","entries","url","element","contains","removeChild","DropdownMenu","controlledOpen","defaultOpen","isInternalOpen","setIsInternalOpen","isActuallyOpen","scrollbarWidth","innerWidth","getScrollbarWidth","clientWidth","style","setProperty","removeProperty","handleOpenChange","openParam","DropdownMenuPrimitive","DropdownMenuTrigger","DropdownMenuContent","sideOffset","DropdownMenuItem","inset","data-inset","data-variant","displayName","LanguageToggle","setOpen","router","useRouter","handleLanguageChange","lng","isLegalPage","LANGUAGE_STORAGE_KEY","date","setTime","getTime","days","toUTCString","cookie","name","newPath","SUPPORTED_LANGUAGES","replace","history","pushState","changeLanguage","dispatchEvent","CustomEvent","detail","source","isEnglish","isGerman","stopPropagation","Globe","align","side","forceMount","ReactCountryFlag","countryCode","marginRight","title","ThemeToggle","setTheme","theme","resolvedTheme","useTheme","transitionTimeout","log","dataset","handleThemeChange","newTheme","toggleLabel","AccessibleIcon","label","Sun","Moon","Header","setCurrentLang","pathLanguage","initialLang","handleLanguageChanged","customEvent","newLang","rawPathname","isOnAppPage","normalizedPathname","endsWith","showThemeToggle","linkLangForButton","homePath","appPath","header","a","showGetStartedButton","ThemeProvider","NextThemesProvider","TooltipProvider","delayDuration","TooltipPrimitive","TranslationContext","TranslationProvider","ClientLayout","attribute","defaultTheme","enableSystem","disableTransitionOnChange","main","reload","buttonVariants","cva","variants","default","destructive","outline","secondary","ghost","link","sm","lg","icon","defaultVariants","Comp","Slot","VisuallyHidden","clip","DialogPrimitive","DialogPortal","DialogOverlay","isMountedRef","mountTimer","XIcon","LabelPrimitive"],"sourceRoot":""}