{"version":3,"file":"static/chunks/6411.9eaac1b2eaa943a9.js","mappings":"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","sources":["webpack://_N_E/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://_N_E/./src/components/custom-cookie-banner.tsx"],"sourcesContent":["/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","\"use client\";\r\n\r\nimport { AnimatePresence, LazyMotion, domAnimation, motion } from \"framer-motion\";\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Cookies from 'js-cookie';\r\nimport { useTranslation } from '@/translations';\r\n\r\n// import Link from 'next/link'; // Not used in the provided snippet for the banner itself\r\n\r\ninterface CustomCookieConsentBannerProps {\r\n  onAcceptAction: () => void;\r\n  onDeclineAction: () => void;\r\n  consentCookieName: string;\r\n  onOpenPrivacyAction: () => void;\r\n}\r\n\r\nexport function CustomCookieConsentBanner({ \r\n  onAcceptAction, \r\n  onDeclineAction, \r\n  consentCookieName, \r\n  onOpenPrivacyAction\r\n}: CustomCookieConsentBannerProps) {\r\n  const { t } = useTranslation();\r\n  const [visible, setVisible] = useState(false);\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Wrap in useCallback to prevent dependency cycle\r\n  const handleAccept = useCallback(() => {\r\n    // Store scroll position before closing\r\n    const scrollPos = window.scrollY;\r\n    \r\n    // Set cookie and close banner\r\n    Cookies.set(consentCookieName, \"true\", { expires: 150 });\r\n    setVisible(false);\r\n    onAcceptAction();\r\n    \r\n    // Restore scroll position after a short delay\r\n    setTimeout(() => window.scrollTo(0, scrollPos), 10);\r\n  }, [consentCookieName, onAcceptAction]);\r\n\r\n  const handleDecline = useCallback(() => {\r\n    // Store scroll position before closing\r\n    const scrollPos = window.scrollY;\r\n    \r\n    // Set cookie and close banner\r\n    Cookies.set(consentCookieName, \"false\", { expires: 150 });\r\n    setVisible(false);\r\n    onDeclineAction();\r\n    \r\n    // Restore scroll position after a short delay\r\n    setTimeout(() => window.scrollTo(0, scrollPos), 10);\r\n  }, [consentCookieName, onDeclineAction]);\r\n\r\n  useEffect(() => {\r\n    const consent = Cookies.get(consentCookieName);\r\n    if (consent !== \"true\" && consent !== \"false\") {\r\n      // Small delay to prevent the banner from appearing during page load animations\r\n      const timer = setTimeout(() => {\r\n        // Save the current scroll position before showing the banner\r\n        const scrollPos = window.scrollY;\r\n        setVisible(true);\r\n        // Restore scroll position to prevent jumping\r\n        setTimeout(() => window.scrollTo(0, scrollPos), 10);\r\n      }, 800);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [consentCookieName]);\r\n\r\n  useEffect(() => {\r\n    if (!visible) return;\r\n    \r\n    document.documentElement.classList.add('prevent-scrollbar-shift');\r\n    \r\n    const scrollPos = window.scrollY;\r\n    const preventScrollJump = () => {\r\n      if (window.scrollY !== scrollPos) {\r\n        window.scrollTo(0, scrollPos);\r\n      }\r\n    };\r\n    preventScrollJump();\r\n    setTimeout(preventScrollJump, 50);\r\n    setTimeout(preventScrollJump, 150);\r\n    \r\n    const focusableSelectors = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\r\n    const modal = modalRef.current;\r\n    if (!modal) return;\r\n    const focusableEls = modal.querySelectorAll<HTMLElement>(focusableSelectors);\r\n    // if (focusableEls.length) focusableEls[0].focus(); // Temporarily remove auto-focus\r\n    \r\n    function handleTab(e: KeyboardEvent) {\r\n      if (e.key !== 'Tab') return;\r\n      const first = focusableEls[0];\r\n      const last = focusableEls[focusableEls.length - 1];\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === first) {\r\n          e.preventDefault();\r\n          last.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === last) {\r\n          e.preventDefault();\r\n          first.focus();\r\n        }\r\n      }\r\n    }\r\n    \r\n    function handleEscape(e: KeyboardEvent) {\r\n      if (e.key === 'Escape') {\r\n        handleDecline();\r\n      }\r\n    }\r\n    \r\n    modal.addEventListener('keydown', handleTab);\r\n    document.addEventListener('keydown', handleEscape);\r\n    \r\n    return () => {\r\n      modal.removeEventListener('keydown', handleTab);\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.documentElement.classList.remove('prevent-scrollbar-shift');\r\n    }\r\n  }, [visible, handleDecline]);\r\n\r\n  // Always use the default (right side) positioning\r\n  const getPositionClass = () => {\r\n    // Use responsive positioning for better mobile view\r\n    // Removed the invalid !important modifier\r\n    return \"fixed bottom-6 left-1/2 -translate-x-1/2 sm:left-auto sm:right-6 sm:translate-x-0 z-[2000] w-full max-w-sm pointer-events-none\";\r\n  };\r\n\r\n  return (\r\n    <LazyMotion features={domAnimation}>\r\n      <AnimatePresence>\r\n        {visible && (\r\n          <motion.div \r\n            initial={{ opacity: 0, y: 0 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 0 }}\r\n            transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n            className={getPositionClass()}\r\n            aria-label=\"Cookie consent banner\"\r\n            aria-live=\"polite\"\r\n            role=\"region\"\r\n          >\r\n            <div className=\"pointer-events-auto bg-card text-card-foreground rounded-lg shadow-xl border border-border/40 p-6 flex flex-col items-center space-y-5 outline-none max-w-xs sm:max-w-sm w-full mx-4 md:mx-0\">\r\n              <div ref={modalRef} role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"cookie-dialog-title\" tabIndex={-1} className=\"w-full flex flex-col items-center space-y-5\">\r\n                <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mb-1\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"text-primary\">\r\n                    <path d=\"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5\" />\r\n                    <path d=\"M8.5 8.5v.01\" />\r\n                    <path d=\"M16 15.5v.01\" />\r\n                    <path d=\"M12 12v.01\" />\r\n                  </svg>\r\n                </div>\r\n                \r\n                <h2 id=\"cookie-dialog-title\" className=\"text-lg font-semibold text-center\">\r\n                  {t('ConsentBanner.headline', { defaultValue: 'We use cookies' })}\r\n                </h2>\r\n                \r\n                <p className=\"text-sm text-center text-muted-foreground\">\r\n                  {t('ConsentBanner.message')}\r\n                </p>\r\n                \r\n                <div className=\"flex flex-col sm:flex-row sm:space-x-4 space-y-3 sm:space-y-0 justify-center w-full mt-1\">\r\n                  <Button\r\n                    variant=\"default\"\r\n                    className=\"w-full sm:w-auto\"\r\n                    onClick={handleAccept}\r\n                    autoFocus\r\n                  >\r\n                    {t('ConsentBanner.acceptButton')}\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full sm:w-auto\"\r\n                    onClick={handleDecline}\r\n                  >\r\n                    {t('ConsentBanner.declineButton')}\r\n                  </Button>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onOpenPrivacyAction}\r\n                  className=\"text-sm text-primary hover:underline cursor-pointer bg-transparent border-0 p-0 focus:outline-none focus:ring-2 focus:ring-primary/20 rounded-sm mt-3\"\r\n                >\r\n                  {t('ConsentBanner.learnMoreButton')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </LazyMotion>\r\n  );\r\n} \r\n"],"names":["CustomCookieConsentBanner","onAcceptAction","onDeclineAction","consentCookieName","onOpenPrivacyAction","t","useTranslation","visible","setVisible","useState","modalRef","useRef","handleAccept","useCallback","scrollPos","window","scrollY","Cookies","set","expires","setTimeout","scrollTo","handleDecline","useEffect","consent","get","timer","clearTimeout","document","documentElement","classList","add","preventScrollJump","modal","current","focusableEls","querySelectorAll","focusableSelectors","handleTab","e","key","first","last","length","shiftKey","activeElement","preventDefault","focus","handleEscape","addEventListener","removeEventListener","remove","LazyMotion","features","domAnimation","AnimatePresence","motion","div","initial","opacity","y","animate","exit","transition","duration","ease","className","getPositionClass","aria-label","aria-live","role","ref","aria-modal","aria-labelledby","tabIndex","svg","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","path","d","h2","id","defaultValue","p","Button","variant","onClick","autoFocus","button","type"],"sourceRoot":""}